---
top: 2
sticky: 999
sidebar: 
 title: 4æœˆè®°
 step: 1
 isTimeLine: true
title: 4æœˆè®°
tags:
 - çŸ¥è¯†ä¸­å¿ƒ
categories:
 - çŸ¥è¯†ä¸­å¿ƒ
---


# 4æœˆä¿¡æ¯

## ç®€ä»‹
è¿™æ˜¯å±äºæˆ‘ 4 æœˆä»½æ”¶é›†çš„ä¸€äº›è®°å½•çš„çŸ¥è¯†

## base64 ä¸ºä»€ä¹ˆæ¯” png å¤§ï¼Ÿ
ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œbase64ç¼–ç åçš„å­—ç¬¦ä¸²é•¿åº¦ä¼šæ¯”åŸå§‹å›¾ç‰‡çš„å¤§å°å¤§çº¦ä¸º4/3å·¦å³ã€‚è¿™æ˜¯å› ä¸ºbase64ç¼–ç å°†3ä¸ªå­—èŠ‚è½¬æ¢ä¸º4ä¸ªå­—ç¬¦ï¼ŒåŒæ—¶å¯èƒ½ä¼šæ·»åŠ ä¸€äº›å¡«å……å­—ç¬¦ã€‚
æ­¤å¤–ï¼Œå›¾ç‰‡åœ¨ç¼–ç ä¸ºbase64æ ¼å¼æ—¶ï¼Œé€šå¸¸ä¼šè¿›è¡ŒäºŒè¿›åˆ¶è½¬æ¢ï¼Œå°†æ¯ä¸ªåƒç´ çš„é¢œè‰²ä¿¡æ¯è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå†å°†è¿™äº›äºŒè¿›åˆ¶æ•°æ®ç¼–ç ä¸ºbase64å­—ç¬¦ä¸²ã€‚ç”±äºbase64ç¼–ç ä½¿ç”¨çš„æ˜¯æ–‡æœ¬å½¢å¼è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®ï¼Œå› æ­¤åœ¨ç¼–ç è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå¼•å…¥ä¸€äº›é¢å¤–çš„å¼€é”€å’Œå¡«å……ï¼Œä»è€Œå¯¼è‡´ç¼–ç åçš„å­—ç¬¦ä¸²æ¯”åŸå§‹å›¾ç‰‡çš„å¤§å°æ›´å¤§ã€‚

## è‡ªåŠ¨ç”ŸæˆCHANGELOG â­ï¸â­ï¸â­ï¸
CHANGELOG ä¼šè®°å½•æ‰€æœ‰çš„ commit ä¿¡æ¯å¹¶å½’ç±»ç‰ˆæœ¬ï¼Œå¯ä»¥å¿«é€Ÿè·³è½¬åˆ°è¯¥æ¡ commit è®°å½•ï¼Œå®ƒèƒ½è®©ä½ æ–¹ä¾¿çŸ¥é“é¡¹ç›®é‡Œå“ªä¸ªç‰ˆæœ¬åšäº†å“ªäº›åŠŸèƒ½æœ‰å“ªäº› bug ç­‰ä¿¡æ¯ã€‚ä¹Ÿæ–¹ä¾¿æ’æŸ¥ bugï¼Œå¯¹äºæäº¤è®°å½•ä¸€ç›®äº†ç„¶ï¼Œä¸ç”¨ä¸€ä¸ªä¸€ä¸ªå»ç¿»å»æŸ¥ã€‚
æˆ‘ä»¬ä½¿ç”¨ standard-version æ¥å®ç°è‡ªåŠ¨ç”Ÿæˆ CHANGELOG

```shell
yarn add standard-version -D
```
package.json å¢åŠ å‘½ä»¤

```json
{
  "scripts": {
    "release": "standard-version"
  }
}

```
å½“æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ—¶ä¼šè‡ªåŠ¨ç”ŸæˆCHANGELOG

```shell
yarn release
```
å½“ç„¶ standard-version æä¾›è‡ªå®šä¹‰é…ç½®ä¸åŒç±»å‹å¯¹åº”æ˜¾ç¤ºæ–‡æ¡ˆï¼Œåœ¨æ ¹ç›®å½•æ–°å»º .versionrc æ–‡ä»¶

```json
// .versionrc
{
  "header": "# æ›´æ–°æ—¥å¿— \n\n",
  "types": [{
      "type": "feat",
      "section": "âœ¨ Features | æ–°åŠŸèƒ½",
      "hidden": false
    },
    {
      "type": "fix",
      "section": "ğŸ› Bug Fixes | Bug ä¿®å¤",
      "hidden": false
    },
    {
      "type": "init",
      "section": "ğŸ‰ Init | åˆå§‹åŒ–",
      "hidden": true
    },
    {
      "type": "docs",
      "section": "âœï¸ Documentation | æ–‡æ¡£",
      "hidden": false
    },
    {
      "type": "style",
      "section": "ğŸ’„ Styles | é£æ ¼",
      "hidden": true
    },
    {
      "type": "refactor",
      "section": "â™»ï¸ Code Refactoring | ä»£ç é‡æ„",
      "hidden": true
    },
    {
      "type": "perf",
      "section": "âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–",
      "hidden": true
    },
    {
      "type": "test",
      "section": "âœ… Tests | æµ‹è¯•",
      "hidden": true
    },
    {
      "type": "revert",
      "section": "âª Revert | å›é€€",
      "hidden": true
    },
    {
      "type": "build",
      "section": "ğŸ“¦â€ Build System | æ‰“åŒ…æ„å»º",
      "hidden": true
    },
    {
      "type": "chore",
      "section": "ğŸš€ Chore | æ„å»º/å·¥ç¨‹ä¾èµ–/å·¥å…·",
      "hidden": true
    },
    {
      "type": "ci",
      "section": "ğŸ‘· Continuous Integration | CI é…ç½®",
      "hidden": true
    }
  ]
}

```
## css æ–‡å­—å¤šè¡Œçœç•¥
```css
.box {
  width: 100px;
  height: 100px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  /* å—å®¹å™¨ä¸­çš„å†…å®¹é™åˆ¶ä¸ºæŒ‡å®šçš„è¡Œæ•° */
  /* display å±æ€§è®¾ç½®æˆ -webkit-box æˆ–è€… -webkit-inline-box å¹¶ä¸” box-orient å±æ€§è®¾ç½®æˆ verticalæ—¶æ‰æœ‰æ•ˆæœã€‚ */
  -webkit-line-clamp: 2;
}
```
## this.$toastè¿™ç§æ–¹å¼æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ
**vue2**

- é¦–å…ˆåˆ›å»ºä¸€ä¸ª toast.vue ç»„ä»¶ï¼Œç„¶åå®šä¹‰å¥½éœ€è¦çš„å±æ€§ï¼Œæ¯”å¦‚ï¼štypeã€content ç­‰
- ç„¶åä½¿ç”¨ vue.extend åˆ›å»ºä¸€ä¸ªå­ç±»æ„é€ å™¨ï¼Œç„¶åé€šè¿‡ new åˆ›å»ºä¸€ä¸ªå®ä¾‹
- æœ‰äº†å®ä¾‹ä¹‹åè°ƒç”¨ $mount æ–¹æ³•ï¼Œå°†ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ä¸Š
- ç„¶åå¯ä»¥å°† toast å®ä¾‹å…ƒç´ æŒ‚è½½é€šè¿‡ appendChild æ·»åŠ åˆ° document.body ä¸Š 
- å°†ä¸Šé¢çš„è¿‡ç¨‹å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼Œç„¶åå°†è¿™ä¸ªæ–¹æ³•æŒ‚è½½åˆ°åŸå‹ä¸Š

**vue3**

vue3 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ createApp åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ï¼Œé€šè¿‡$mount æ–¹æ³•ï¼Œå°†ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ä¸Š
ç„¶åé€šè¿‡ app.config.globalProperties.xxx æ·»åŠ ä¸€ä¸ªå…¨å±€å±æ€§ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥é€šè¿‡ this.xxx è°ƒç”¨äº†

## è®¾å¤‡åƒç´ ï¼ˆdpï¼‰ã€css åƒç´ ï¼ˆcss pxï¼‰ã€è®¾å¤‡åƒç´ æ¯”ï¼ˆdprï¼‰ â­ï¸â­ï¸â­ï¸
### è®¾å¤‡åƒç´ ï¼ˆdpï¼‰
è®¾å¤‡åƒç´ ï¼ˆdpï¼‰æ˜¯è®¾å¤‡å±å¹•ä¸Šæ˜¾ç¤ºçš„ç‰©ç†åƒç´ ï¼Œå®ƒä¸è®¾å¤‡å±å¹•çš„åˆ†è¾¨ç‡æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚
### cssåƒç´ ï¼ˆcss pxï¼‰
css åƒç´ æ˜¯ Web ç¼–ç¨‹çš„æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯ CSS æ ·å¼ä»£ç ä¸­ä½¿ç”¨çš„é€»è¾‘åƒç´ 
### è®¾å¤‡åƒç´ æ¯”ï¼ˆdprï¼‰
è®¾å¤‡åƒç´ æ¯”ï¼ˆdprï¼‰æ˜¯è®¾å¤‡å±å¹•ä¸Šç‰©ç†åƒç´ ä¸ CSS åƒç´ çš„æ¯”å€¼ï¼Œå®ƒè¡¨ç¤ºè®¾å¤‡å±å¹•çš„åˆ†è¾¨ç‡ä¸ CSS æ ·å¼ä»£ç ä¸­è®¾ç½®çš„åˆ†è¾¨ç‡çš„æ¯”å€¼ã€‚

åœ¨æµè§ˆå™¨ä¸Š iPhone6/7/8 375px ï¼Œé€šè¿‡ window.devicePixelRatio å¯ä»¥è·å–åˆ°  iPhone6/7/8 è®¾å¤‡åƒç´ æ¯”ä¸º 2
æ‰€ä»¥ä¸€èˆ¬å¼€å‘éƒ½æ˜¯ä½¿ç”¨äºŒå€å›¾æ¥å¼€å‘


## å¼‚å¸¸æ•è·

```js
try{
 	 // å¯èƒ½å‡ºé”™çš„ä»£ç 
}catch(e){
 	 // å¤„ç†tryä»£ç å—ä¸­æŠ›å‡ºçš„å¼‚å¸¸
 	 // e é”™è¯¯ä¿¡æ¯
 	 throw // æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸
}finally{
 	 // æ— è®ºä»€ä¹ˆæƒ…å†µéƒ½ä¼šæ‰§è¡Œä»£ç å—
}
```

## åˆ¤æ–­å¯è¿­ä»£å¯¹è±¡

```js
typeof obj[Symbol.iterator] === 'function'
// å¦‚æœä¸ºtrue, åˆ™æ˜¯å¯è¿­ä»£å¯¹è±¡
// å¦‚æœä¸ºfalse, åˆ™ä¸æ˜¯å¯è¿­ä»£å¯¹è±¡
```

## Symbol çš„å…ƒç¼–ç¨‹èƒ½åŠ›(æ”¹å†™è¯­æ³•æœ¬èº«)
```js
let obj = {
  a: '1',
  [Symbol.toStringTag]: 'vity'
}
console.log(Object.prototype.toString.call(obj)) // [object vity]
```

## 0.1 + 0.2 != 0.3 é—®é¢˜
0.1 + 0.2 != 0.3 çš„åŸå› ï¼š
æˆ‘ä»¬å°æ•°åœ¨è½¬æ¢æˆäºŒè¿›åˆ¶çš„æ—¶å€™ï¼Œç»“æœæ˜¯æ— é™å¾ªç¯çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è®¡ç®—æœºå­˜å‚¨çš„æ—¶å€™ï¼Œå­˜å‚¨çš„ä½æ•°æ˜¯æœ‰é™ï¼Œé‚£ä¹ˆå°±å¿…é¡»åšä¸€äº›è¿‘ä¼¼å€¼çš„å–èˆï¼Œè¿™æ ·å°±å¯¼è‡´äº†å°æ•°ç²¾åº¦ä¸¢å¤±äº†

`è§£å†³æ–¹æ³•:` å…ˆå°†å°æ•°ä¹˜ä»¥10çš„næ¬¡æ–¹å€ï¼Œè£…æ¢ä¸ºæ•´æ•°ï¼Œå†å°†è®¡ç®—åçš„ç»“æœé™¤ä»¥10çš„næ¬¡æ–¹å€

```js
let a = 0.1
let b = 0.2
(a * 10 + b * 10) / 10 === 0.3 // true

```
## String.prototype.replace()
replaceç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°çš„é—®é¢˜
```js
function render(template, data) {
  // \ä¸ºè½¬ä¹‰
  let str = template.replace(/\{\{(\w+)\}\}/g, (match, key) => {
    console.log(match)
    console.log(key)
    /*
     *match =>{{name}} å­—ç¬¦ä¸²ä¸­åŒ¹é…åˆ°çš„å­ä¸²
     *key =>name  ä»£è¡¨æ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸² ï¼ˆé‡ç‚¹ï¼šæ‹¬å· -> \w+ï¼‰
     */
    return data[key]
  })
  return str
}

let template = 'æˆ‘æ˜¯{{name}}ï¼Œå¹´é¾„{{age}}ï¼Œæ€§åˆ«{{sex}}'
let data = {
  name: 'å°æ˜',
  age: 18
}

render(template, data) // æˆ‘æ˜¯å°æ˜ï¼Œå¹´é¾„18ï¼Œæ€§åˆ«undefined
```
è¿™é‡Œå¯ä»¥çŸ¥é“
- matchä¼šåŒ¹é…åˆ°å­—ç¬¦ä¸²çš„å­ä¸²
- keyä¼šåŒ¹é…æ‹¬å·é‡Œçš„å†…å®¹

## es5å®ç°const
```js
Object.defineProperty(window, 'name', {
    value: 'vvv',
    writable: false // æ§åˆ¶å¯å†™å±æ€§
})
// è¿™æ ·å­ç›¸å½“äº const name = 'vvv'
window.name = '123'
window.name // 'vvv' 
```

## æœ‰ 1000 ä¸ª domï¼Œéœ€è¦æ›´æ–°å…¶ä¸­çš„ 100 ä¸ªï¼Œå¦‚ä½•æ“ä½œæ‰èƒ½å‡å°‘ dom çš„æ“ä½œï¼Ÿ
æ·»åŠ å¤šä¸ªdomå…ƒç´ ï¼Œå¯ä»¥æŠŠå…ƒç´ å…ˆappendè¿›DocumentFragmentä¸­å»ï¼Œæœ€åå†ç»Ÿä¸€å°†DocumentFragmentæ·»åŠ åˆ°é¡µé¢ä¸­(`æ–‡æ¡£ç¢ç‰‡æµ`)

`æé†’: ä¸ä¼šè¿›è¡Œå¤šæ¬¡é‡æ’å’Œé‡ç»˜, åªè¿›è¡Œä¸€æ¬¡`
```js
const ul = document.createElement('ul')
const fragment = document.createDocumentFragment()
for (let i = 0; i < 100; i++) {
  const li = document.createElement('li')
  li.innerHTML = `index: ${i}`
  // æ­£åºæ’å…¥
  // fragment.appendChild(li)
  // å€’åºæ’å…¥
  fragment.insertBefore(li, fragment.childNodes[0])
}
ul.appendChild(fragment)
```

## webpackä¸­çš„source mapæ˜¯ä»€ä¹ˆ,ç”Ÿäº§ç¯å¢ƒæ€ä¹ˆç”¨?

source map æ„å»ºäº†å¤„ç†å‰çš„ä»£ç å’Œå¤„ç†åçš„ä»£ç ä¹‹é—´çš„æ¡¥æ¢,åœ¨æ‰“åŒ…ä¹‹åä¹Ÿå¯ä»¥çœ‹åˆ°æ‰“åŒ…ä¹‹å‰çš„ä»£ç ,å¯ä»¥å¿«é€Ÿå®šä½ bug]

## éšå¼è½¬æ¢ â­ï¸â­ï¸â­ï¸
### ç‰¹ä¾‹
- null == undefined ä¸º trueï¼›
- NaN ä¸ä¸ä»»ä½•å€¼ç›¸ç­‰ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±ï¼›
- null å’Œ undefined ä¸ä¼šè¿›è¡Œæ•°æ®è½¬æ¢ï¼›

### æ•°å€¼å’Œéæ•°å€¼ç±»å‹æ¯”è¾ƒ
- æ•°å€¼å’Œå­—ç¬¦ä¸²

  ```js
  console.log('' == 0); // true
  console.log('1' == 1); // true
  console.log('000' == 0); // true
  console.log('sy' == 0); // false
  
  ```
   å½“ä¸€ä¸ªæ•°æ®ç±»å‹æ˜¯æ•°å€¼ï¼Œå¦ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ï¼Œå†ä¸ä¹‹æ¯”è¾ƒã€‚æ¯”å¦‚å…¶ä¸­`'sy'`ä¼šè½¬æ¢ä¸ºæ•°å­—`NaN`ï¼Œæ‰€ä»¥è¿”å›       `false`ã€‚

- æ•°å€¼å’Œå¸ƒå°”å€¼

  ```js
  console.log(true == 1);  // true
  console.log(true == 2);  // false
  console.log(false == 0); // true
  console.log(false == 1); // false
  ```

  å¾ˆå®¹æ˜“å°±èƒ½çœ‹å‡ºï¼Œè¿™æ ·çš„æ¯”è¾ƒï¼Œä¼šå°†`true`è½¬åŒ–æˆæ•°å€¼`1`ï¼Œ`false`è½¬åŒ–ä¸º`0`ã€‚

- æ•°å€¼å’Œæ•°ç»„

  ```js
  console.log([] == 1); // false
  console.log([] == 0); // true
  console.log([1,2] == 2); // false
  ```

  åœ¨è¿™é‡Œï¼Œæ•°ç»„ä¼šå…ˆé€šè¿‡è°ƒç”¨`toString()`è½¬æ¢ä¸ºå­—ç¬¦ä¸²åå†è½¬åŒ–ä¸ºæ•°å€¼ã€‚æ¯”å¦‚`['Ywis']`å…ˆè½¬åŒ–ä¸ºå­—ç¬¦ä¸²`'Ywis'`åå†è½¬åŒ–ä¸ºæ•°å€¼`NaN`ï¼Œæ‰€ä»¥è¿”å›`false`ã€‚

  **æ‹“å±•ï¼šæ•°ç»„ã€å¯¹è±¡å’Œå‡½æ•°åœ¨ä¸å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œæ¯”è¾ƒæ—¶éƒ½ä¼šå…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åå†è½¬æ¢ä¸ºç›¸åº”çš„æ•°æ®ç±»å‹ã€‚**

### å¸ƒå°”å€¼å’Œéå¸ƒå°”å€¼ç±»å‹æ¯”è¾ƒ

```js
console.log(true == 1); // true
console.log(true == '00001'); // true
console.log(false == []); // true
console.log(true == ['123']); // false
```

å½“å¸ƒå°”å€¼å’Œéå¸ƒå°”ç±»å‹æ¯”è¾ƒï¼Œä¼šå°†`true`è½¬æ¢ä¸º 1ï¼Œ`false`è½¬æ¢ä¸º 0ã€‚å°†éå¸ƒå°”å€¼ç±»å‹ç»Ÿç»Ÿè½¬åŒ–æˆæ•°å€¼ï¼Œè¿™é‡Œçš„ç±»å‹è½¬æ¢è§„åˆ™å’Œä¸Šé¢æåˆ°çš„ç›¸åŒã€‚

### å¯¹è±¡å’ŒåŸå§‹å€¼çš„æ¯”è¾ƒ

```js
console.log({} == 0); // false
console.log([] == 1); // false
```

å½“å¯¹è±¡ä¸åŸå§‹å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ï¼ŒJS ä¼šå…ˆå°è¯•é€šè¿‡è°ƒç”¨å¯¹è±¡çš„`valueOf()`æ–¹æ³•æ¥è·å–åŸå§‹å€¼ã€‚å¦‚æœ`valueOf()`æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼ŒJS ä¼šå°†å…¶è½¬æ¢æˆä¸å¾…æ¯”è¾ƒçš„åŸå§‹å€¼ç›¸åŒçš„ç±»å‹ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœ`valueOf()`æ–¹æ³•è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¼šç»§ç»­è°ƒç”¨å¯¹è±¡çš„`toString()`æ–¹æ³•ï¼Œå°†å…¶è¿”å›å€¼è½¬æ¢ä¸ºåŸå§‹å€¼ï¼Œç„¶åå†è¿›è¡Œæ¯”è¾ƒã€‚

æ¯”å¦‚`{} == 0`ï¼Œå¯¹äºç©ºå¯¹è±¡`{}`å®ƒçš„`valueOf()` æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼Œå› æ­¤ JS ä¼šç»§ç»­è°ƒç”¨ `toString()` æ–¹æ³•ï¼Œè¿”å›å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸² `"[object Object]"`ï¼Œå†è½¬æ¢ä¸ºæ•°å€¼`NaN`ï¼Œæ‰€ä»¥è¿”å›`false`ã€‚\

### å°æµ‹è¯•

é—®: foo ä¸ºä½•å€¼æ—¶èƒ½è¾“å‡º 'check in' ?
```js
var foo =  ?
if( foo == 1 && foo == 2) {
  console.log('check in')
}
```
**å…ˆç»™å‡ºç­”æ¡ˆ**

```js
var foo  = {
  a: 0, 
  valueOf: function() {
    return ++ this.a 
  }
}
if( foo == 1 && foo == 2) {
  console.log('check in')
}
```
æˆ–è€…
```js
var foo  = {
  a: 1, 
  valueOf: function() {
    return this.a ++ 
  }
}
if( foo == 1 && foo == 2) {
  console.log('check in')
}
```
**è§£é‡Š**

å½“å¯¹è±¡è·Ÿæ•°å­—æ¯”è¾ƒçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å¯¹è±¡çš„ valueOf æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°å­—, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¾æ®è¿™ä¸ªå±æ€§è¿›è¡Œè¿ç®—ã€‚



## ä¸ºä»€ä¹ˆ Vue3 ä¸­ä½¿ç”¨ ref å®šä¹‰çš„å˜é‡è¦ç”¨ .value å‘¢?
æºç ä¸­ ä½¿ç”¨ äº† get value å‡½æ•°å’Œ set value å‡½æ•°, åœ¨ä½¿ç”¨ getter å’Œ setter çš„æ—¶å€™ä¸ºå®ä¾‹åˆ›å»ºä¸€ä¸ªä¼ªå±æ€§ï¼ˆvalueï¼‰

å¤§æ¦‚æºç å±•ç¤º:
```js
class RefImpl {
  private _value // ç§æœ‰çš„å€¼
  private _rawValue // ç§æœ‰çš„åŸå§‹å€¼
  public readonly __v_isRef = true
  constructor(value, public readonly __v_isShallow: boolean) {
    this._rawValue = value
    this._value = __v_isShallow ? value : toReactive(value)
  }

  // ä»£ç†
  get value() {
    // æ”¶é›†ä¾èµ–
    track(this, trackOpTypes.GET, 'value')
    return this._value
  }
  set value(newVal) {
    if(hasChanged(newVal, this._rawValue)) {
       this._rawValue = newVal
       this._value =  this.__v_isShallow ? newVal : toReactive(newVal)
       // è§¦å‘ä¾èµ–
       trigger(this, TriggerOrTypes.SET, 'value', newVal)
    }
  }
}
```

## åœ¨é¡µé¢ä¸­æ·»åŠ æ°´å°å¯ä»¥é€šè¿‡æ§åˆ¶å°ç§»é™¤,é‚£ä¹ˆæ€ä¹ˆæ ·æ‰èƒ½é¿å…ç”¨æˆ·ç§»é™¤æ°´å°å‘¢?
å¯ä»¥é€šè¿‡ç”¨ MutationObserver ç›‘å¬ï¼Œé‡æ–°æ·»åŠ æ°´å°

æ°´å°å°è£…ä»£ç :
```js
function watermark(options = {}) {
  const {
    container = document.body, // å®¹å™¨
    width = '240', // canvaså…ƒç´ å®½
    height = '100', // canvaså…ƒç´ é«˜
    textAlign = 'left', // æ–‡å­—å¯¹é½
    textBaseline = 'bottom', // åŸºå‡†çº¿
    font = '16px Microsoft Yahei', // å­—ä½“å¤§å°åŠæ ·å¼
    fillStyle = '#000', // è‡ªå®šä¹‰æ°´å°çš„é¢œè‰²
    content = 'è¿›åˆ¶å¤–ä¼ ', // æ°´å°å†…å®¹
    globalAlpha = 0.3, // è®¾ç½®å›¾å½¢å’Œå›¾åƒé€æ˜åº¦çš„å€¼
    rotate = 16, // æ–‡å­—æ—‹è½¬è§’åº¦
    zIndex = 1000, // å…ƒç´ å †å é¡ºåº
  } = options

  const canvas = document.createElement('canvas')
  canvas.setAttribute('width', width)
  canvas.setAttribute('height', height)
  const ctx = canvas.getContext('2d') // è·å– canvas2d ä¸Šä¸‹æ–‡
  ctx.globalAlpha = globalAlpha
  ctx.textAlign = textAlign
  ctx.textBaseline = textBaseline
  ctx.font = font
  ctx.fillStyle = fillStyle
  ctx.rotate((Math.PI * rotate) / 180)
  // ctx.rotate(-10 * Math.PI / 140);
  ctx.fillText(content, 50, 50)

  const base64Url = canvas.toDataURL() // è¿”å›ä¸€ä¸ªåŒ…å«å›¾ç‰‡å±•ç¤ºçš„ data URI

  const __wm = document.querySelector('.__wm') // é€‰æ‹©å™¨
  const watermarkDiv = __wm || document.createElement('div')
  const waterMarkStyle = `
    position:absolute;
    top:0px;
    left:0px;
    width:100%;
    height:100%;
    z-index:${zIndex};
    pointer-events:none;
    background-repeat:repeat;
    background-image:url('${base64Url}')`

  watermarkDiv.setAttribute('style', waterMarkStyle)
  watermarkDiv.classList.add('__wm') // ä¸ºå…ƒç´ æ·»åŠ â€œ__wmâ€ç±»å

  container.style.position = 'relative'
  container.appendChild(watermarkDiv) // æ·»åŠ å…ƒç´ 

  // ç›‘å¬åˆ é™¤ é˜²æ­¢ç”¨æˆ·å»æ‰‹åŠ¨åˆ é™¤ï¼Œå¦‚æœæ‰‹åŠ¨åˆ é™¤ ï¼Œåœ¨é‡æ–°æ·»åŠ 
  const MutationObserver = window.MutationObserver || window.WebKitMutationObserver
  // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¿™ä¸ªAPI
  if (MutationObserver) {
    const args = arguments[0]
    const __wm = document.querySelector('.__wm')
    let mo = new MutationObserver(function () {
      // åªåœ¨__wmå…ƒç´ å˜åŠ¨æ‰é‡æ–°è°ƒç”¨
      if ((__wm && __wm.getAttribute('style') !== waterMarkStyle) || !__wm || document.body.style.position !== 'relative') {
        // é¿å…ä¸€ç›´è§¦å‘
        mo.disconnect()
        mo = null
        watermark(args)
      }
    })
    mo.observe(__wm, {
      // è§†æƒ…å†µå¼€å¯
      attributes: true, // è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹çš„å±æ€§èŠ‚ç‚¹
      subtree: false, // è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹
      childList: true // è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹çš„å­èŠ‚ç‚¹
    })
  }
}
export default watermark
```

## vue3 å¸¸ç”¨æ–¹æ³•
refã€reactiveã€computedã€watchã€definePropsã€defineExposeã€defineEmitsã€withDefaults
- ref ç”¨äºå®šä¹‰åŸºç¡€ç±»å‹å˜é‡
- reactive ç”¨äºå®šä¹‰å¼•ç”¨ç±»å‹å˜é‡
- computed ç”¨äºå®šä¹‰è®¡ç®—å±æ€§
- watch ç”¨äºç›‘å¬æ•°æ®å˜åŒ–
- defineProps ç”¨äºå®šä¹‰ç»„ä»¶å±æ€§
- defineExpose ç”¨äºæš´éœ²ç»„ä»¶å†…éƒ¨æ•°æ®
- defineEmits ç”¨äºå®šä¹‰ç»„ä»¶å†…éƒ¨äº‹ä»¶
- withDefaults ç”¨äºå®šä¹‰ç»„ä»¶é»˜è®¤å±æ€§å€¼

åŸºæœ¬ç”¨æ³•

## ä»€ä¹ˆæƒ…å†µä¸‹ä¼šäº§ç”Ÿè·¨åŸŸï¼Ÿ

è·¨åŸŸä¸»è¦æ˜¯ç”±äº**æµè§ˆå™¨çš„åŒæºç­–ç•¥**å¼•ç”¨çš„ï¼ŒåŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„å®‰å…¨æœºåˆ¶ï¼Œ**å½“åè®®ï¼ŒåŸŸåï¼Œç«¯å£ä¸‰è€…æœ‰ä¸€ä¸ªä¸åŒï¼Œæµè§ˆå™¨å°±ç¦æ­¢è®¿é—®èµ„æº**

**æ‰©å±•**

**â‘  æœåŠ¡ç«¯è¯·æ±‚æœåŠ¡ç«¯ä¼šè·¨åŸŸå—ï¼Ÿ**

ä¸ä¼šï¼Œè·¨åŸŸä¸»è¦é’ˆå¯¹å¯¹è±¡æ˜¯æµè§ˆå™¨

**â‘¡ webpack æˆ–è€… vite ä¸­å¯ä»¥ä½¿ç”¨ proxy è§£å†³è·¨åŸŸï¼Œå®ƒè§£å†³è·¨åŸŸçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ**

webpack æˆ–è€… vite ä¸­å¯ä»¥ä½¿ç”¨ proxy è§£å†³è·¨åŸŸï¼Œ å…¶å®ç°æ˜¯æä¾›ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨è¿›è¡Œä»£ç†ã€‚
webpack æä¾›æœåŠ¡å™¨çš„å·¥å…·æ˜¯ webpack-dev-serverï¼Œåªé€‚ç”¨äºå¼€å‘é˜¶æ®µã€‚

**â‘¢ ä¸ºä»€ä¹ˆè·¨åŸŸçš„æ—¶å€™æœ‰æ—¶å€™è¯·æ±‚ä¼šå‘ä¸¤æ¬¡ï¼Ÿ**

å½“å‘èµ·è·¨åŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ªé¢„è¯·æ±‚ï¼ˆé€šå¸¸æ˜¯ OPTIONS è¯·æ±‚ï¼‰ï¼Œç”¨äºè¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥è·¨åŸŸè¯·æ±‚ã€‚å¦‚æœæœåŠ¡å™¨è¿”å›å…è®¸ï¼Œåˆ™å†å‘é€æ­£å¼çš„è¯·æ±‚ã€‚å¦‚æœé¢„è¯·æ±‚å¤±è´¥ï¼Œåˆ™ä¸ä¼šå‘é€æ­£å¼çš„è¯·æ±‚

**â‘£ é‚£ä¸ºä»€ä¹ˆéè¦æœ‰è¿™ä¸ªé¢„æ£€è¯·æ±‚å‘¢ï¼Ÿ**

**æ£€æŸ¥è·¨åŸŸè¯·æ±‚çš„å®‰å…¨æ€§**ï¼š é¢„æ£€è¯·æ±‚ç”¨äºéªŒè¯æ˜¯å¦å…è®¸å‘èµ·è·¨åŸŸè¯·æ±‚ï¼Œä»¥ä¿éšœè·¨åŸŸè¯·æ±‚çš„å®‰å…¨æ€§ã€‚è¿™æœ‰åŠ©äºé˜²æ­¢æ½œåœ¨çš„å®‰å…¨é£é™©ï¼Œå¦‚è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰æ”»å‡»ã€‚

**æ£€æŸ¥è·¨åŸŸè¯·æ±‚çš„æ”¯æŒ**ï¼š é¢„æ£€è¯·æ±‚å…è®¸æœåŠ¡å™¨æ£€æŸ¥å®¢æˆ·ç«¯çš„è¯·æ±‚å¤´ï¼ˆRequest Headersï¼‰å’Œæ–¹æ³•ï¼ˆHTTP Methodsï¼‰ï¼Œä»¥ç¡®å®šæ˜¯å¦æ”¯æŒè·¨åŸŸè¯·æ±‚ã€‚è¿™æœ‰åŠ©äºæœåŠ¡å™¨æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦å…è®¸å®¢æˆ·ç«¯è®¿é—®èµ„æºã€‚

**æä¾›æ›´å¥½çš„é”™è¯¯ä¿¡æ¯**ï¼š å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œé¢„æ£€è¯·æ±‚å¯ä»¥æä¾›æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œä»¥ä¾¿å®¢æˆ·ç«¯å¼€å‘è€…äº†è§£é—®é¢˜æ‰€åœ¨ã€‚

**å‡å°‘æ½œåœ¨çš„å†²çª**ï¼š é¢„æ£€è¯·æ±‚è¿˜å¯ä»¥ç”¨äºé¿å…ä¸€äº›æ½œåœ¨çš„å†²çªï¼Œå¦‚æµè§ˆå™¨ç¼“å­˜é—®é¢˜ï¼Œä»è€Œç¡®ä¿è¯·æ±‚çš„é¡ºåˆ©è¿›è¡Œã€‚

## cookie çš„æœ‰æ•ˆæ—¶é—´è®¾ç½®ä¸º 0 ä¼šæ€ä¹ˆæ ·ï¼Ÿ
`Cookie` è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º 0ï¼Œè¡¨ç¤ºè·Ÿéšç³»ç»Ÿé»˜è®¤ï¼Œå…¶é”€æ¯ä¸ Session é”€æ¯æ—¶é—´ç›¸åŒï¼Œä¼šåœ¨æµè§ˆå™¨å…³é—­ååˆ é™¤

## for...in å’Œ for...ofçš„åŒºåˆ«

forâ€¦of æ˜¯ ES6 æ–°å¢çš„éå†æ–¹å¼ï¼Œå…è®¸éå†ä¸€ä¸ªå«æœ‰ iterator æ¥å£çš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ã€å¯¹è±¡ç­‰ï¼‰å¹¶ä¸”è¿”å›å„é¡¹çš„å€¼ï¼Œå’Œ ES3 ä¸­çš„ forâ€¦in çš„åŒºåˆ«å¦‚ä¸‹

- forâ€¦of éå†è·å–çš„æ˜¯å¯¹è±¡çš„é”®å€¼ï¼Œforâ€¦in è·å–çš„æ˜¯å¯¹è±¡çš„é”®åï¼›
- forâ€¦ in ä¼šéå†å¯¹è±¡çš„æ•´ä¸ªåŸå‹é“¾ï¼Œæ€§èƒ½éå¸¸å·®ä¸æ¨èä½¿ç”¨ï¼Œè€Œ for â€¦ of åªéå†å½“å‰å¯¹è±¡ä¸ä¼šéå†åŸå‹é“¾ï¼›
- å¯¹äºæ•°ç»„çš„éå†ï¼Œforâ€¦in ä¼šè¿”å›æ•°ç»„ä¸­æ‰€æœ‰å¯æšä¸¾çš„å±æ€§(åŒ…æ‹¬åŸå‹é“¾ä¸Šå¯æšä¸¾çš„å±æ€§)ï¼Œforâ€¦of åªè¿”å›æ•°ç»„çš„ä¸‹æ ‡å¯¹åº”çš„å±æ€§å€¼ï¼›

## æ ·å¼ç©¿é€çš„å†™æ³•æ€»ç»“
- css å¯ä»¥ä½¿ç”¨ >>>ï¼Œ/deep/ï¼Œ::v-deep
- less å’Œ node-sass å¯ä»¥ä½¿ç”¨/deep/ï¼Œ::v-deep
- dart-sass å¯ä»¥ä½¿ç”¨::v-deep
- vue2.7 ä»¥ä¸Šç‰ˆæœ¬ä»¥åŠåŒ…æ‹¬ vue3ï¼Œåº”è¯¥ä½¿ç”¨:deep()


**æ€»ç»“**ï¼š

for...in å¾ªç¯ä¸»è¦æ˜¯ä¸ºäº†éå†å¯¹è±¡è€Œç”Ÿï¼Œä¸é€‚ç”¨äºéå†æ•°ç»„ï¼›for...of å¾ªç¯å¯ä»¥ç”¨æ¥éå†æ•°ç»„ã€ç±»æ•°ç»„å¯¹è±¡ï¼Œå­—ç¬¦ä¸²ã€Setã€Map ä»¥åŠ Generator å¯¹è±¡ã€‚

<br/>
<hr />

â­ï¸â­ï¸â­ï¸å¥½å•¦ï¼ï¼ï¼æœ¬æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸå•¦ã€‚â­ï¸â­ï¸â­ï¸

âœ¿âœ¿ãƒ½(Â°â–½Â°)ãƒâœ¿

æ’’èŠ± ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸


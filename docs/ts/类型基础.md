---
sidebar: 
 title: TypeScript åŸºç¡€
 step: 1
 isTimeLine: true
title: TypeScript åŸºç¡€
tags:
 - TypeScript
categories:
 - TypeScript
---

# TypeScript ç±»å‹åŸºç¡€

## **å¦‚ä½•å­¦ä¹ **

ä¸ç”¨å»è€ƒè™‘é…ç¯å¢ƒçš„é—®é¢˜ï¼Œç›´æ¥å»è¿™ä¸ªåœ¨çº¿åœ°å€ [TS Playground](https://link.juejin.cn/?target=https%3A%2F%2Fwww.typescriptlang.org%2Fplay) ï¼ŒæŠŠä¾‹å­éƒ½å†™ä¸€éï¼Œå¤šå†™å†™ã€‚

## **åŸºæœ¬ç±»å‹**

### **boolean ç±»å‹**

```ts
let isTrue: boolean = true
```

### **numberç±»å‹**

```ts
let age: number = 18
```

### **stringç±»å‹**

```ts
let str: string = 'vvv'
```

### **undefinedå’Œnull ç±»å‹**

```ts
let u: undefined = undefined
let n: null = null
```

é»˜è®¤æƒ…å†µä¸‹ null å’Œ undefined æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ null å’Œ undefined èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡

ä½†æ˜¯å¦‚æœæŒ‡å®šäº†` --strictNullChecks` æ ‡è®°ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œå®ƒä»¬å„è‡ªï¼Œä¸ç„¶ä¼šæŠ¥é”™

ä¾‹å¦‚:

```ts
// æœªæŒ‡å®šstrictNullChecksæ ‡è®°åˆ™ä¸æŠ¥é”™, è‹¥æŒ‡å®šäº†åˆ™æŠ¥é”™
let str: string = undefined 
```

### **anyã€unknown å’Œ void ç±»å‹**

**anyç±»å‹**

ä¸æ¸…æ¥šç”¨ä»€ä¹ˆç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ any ç±»å‹ã€‚è¿™äº›å€¼å¯èƒ½æ¥è‡ªäºåŠ¨æ€çš„å†…å®¹ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·è¾“å…¥æˆ–ç¬¬ä¸‰æ–¹ä»£ç åº“

```ts
let notSure: any = 4
notSure = '123'
notSure = false

notSure.name                   // å¯ä»¥éšä¾¿è°ƒç”¨å±æ€§å’Œæ–¹æ³•
notSure.getName()
```

**unknownç±»å‹**

ä¸å»ºè®®ä½¿ç”¨ anyï¼Œå½“æˆ‘ä¸çŸ¥é“ä¸€ä¸ªç±»å‹å…·ä½“æ˜¯ä»€ä¹ˆæ—¶ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ

å¯ä»¥ä½¿ç”¨ `unknown` ç±»å‹

`unknown` ç±»å‹ä»£è¡¨ä»»ä½•ç±»å‹ï¼Œå®ƒçš„å®šä¹‰å’Œ `any` å®šä¹‰å¾ˆåƒï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªå®‰å…¨ç±»å‹ï¼Œä½¿ç”¨ `unknown` åšä»»ä½•äº‹æƒ…éƒ½æ˜¯ä¸åˆæ³•çš„ã€‚

æ¯”å¦‚ï¼Œè¿™æ ·ä¸€ä¸ª divide å‡½æ•°ï¼Œ

```ts
function divide(param: any) {
  return param / 2;
}
```

æŠŠ param å®šä¹‰ä¸º any ç±»å‹ï¼ŒTS å°±èƒ½ç¼–è¯‘é€šè¿‡ï¼Œæ²¡æœ‰æŠŠæ½œåœ¨çš„é£é™©æš´éœ²å‡ºæ¥ï¼Œä¸‡ä¸€ä¼ çš„ä¸æ˜¯ number ç±»å‹ï¼Œä¸å°±æ²¡æœ‰è¾¾åˆ°é¢„æœŸäº†å—ã€‚

æŠŠ param å®šä¹‰ä¸º unknown ç±»å‹ ï¼ŒTS ç¼–è¯‘å™¨å°±èƒ½æ‹¦ä½æ½œåœ¨é£é™©ï¼Œå¦‚ä¸‹å›¾ï¼Œ

```ts
function divide(param: unknown) {
  return param / 2;
}
```

<img src="./assets/image-20221016145423959.png" alt="image-20221016145423959" style="zoom:50%;" />

å› ä¸ºä¸çŸ¥é“ param çš„ç±»å‹ï¼Œä½¿ç”¨è¿ç®—ç¬¦ `/`ï¼Œå¯¼è‡´æŠ¥é”™ã€‚

å†é…åˆç±»å‹æ–­è¨€ï¼Œå³å¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ

```ts
function divide(param: unknown) {
  return param as number / 2;
}
```

:::tip

æ³¨æ„: ç±»å‹æ–­è¨€å¿…é¡»æœ‰è¿™ä¸ªç±»å‹, å› ä¸ºnumberæ˜¯unknownçš„å­ç±»å‹,æ‰€ä»¥ä¸ä¼šæŠ¥é”™

:::

**void**

`void`ç±»å‹ä¸ `any` ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚

æ¯”å¦‚å‡½æ•°æ²¡æœ‰æ˜ç¡®è¿”å›å€¼ï¼Œé»˜è®¤è¿”å› Void ç±»å‹

```ts
function test(): void {
    console.log('test')
}
```

### **never ç±»å‹**

`never`ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚

æœ‰äº›æƒ…å†µä¸‹å€¼ä¼šæ°¸ä¸å­˜åœ¨ï¼Œæ¯”å¦‚ï¼Œ

- å¦‚æœä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶æŠ›å‡ºäº†`å¼‚å¸¸`ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°æ°¸è¿œä¸å­˜åœ¨è¿”å›å€¼ï¼Œå› ä¸ºæŠ›å‡ºå¼‚å¸¸ä¼šç›´æ¥ä¸­æ–­ç¨‹åºè¿è¡Œã€‚
- å‡½æ•°ä¸­æ‰§è¡Œ`æ— é™å¾ªç¯çš„ä»£ç `ï¼Œä½¿å¾—ç¨‹åºæ°¸è¿œæ— æ³•è¿è¡Œåˆ°å‡½æ•°è¿”å›å€¼é‚£ä¸€æ­¥ã€‚

```ts
// å¼‚å¸¸
function fn(msg: string): never { 
  throw new Error(msg)
}

// æ­»å¾ªç¯
function fn2(): never { 
  while (true) {}
}
```

never ç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ã€‚

æ²¡æœ‰ç±»å‹æ˜¯ never çš„å­ç±»å‹ï¼Œæ²¡æœ‰ç±»å‹å¯ä»¥èµ‹å€¼ç»™ never ç±»å‹ï¼ˆé™¤äº† never æœ¬èº«ä¹‹å¤–ï¼‰ã€‚ å³ä½¿ `any`ä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™ never ã€‚

```ts
let test1: never;
test1 = 'vvv' // æŠ¥é”™ï¼ŒType 'string' is not assignable to type 'never'
```

```ts
// anyä¸èƒ½èµ‹å€¼ç»™never
let test1: never;
let test2: any;

test1 = test2 // æŠ¥é”™ï¼ŒType 'any' is not assignable to type 'never'
```

### **æ•°ç»„ç±»å‹**

```ts
let list: number[] = [1, 2, 3];
// ES5ï¼švar list = [1,2,3];

let list: Array<number> = [1, 2, 3]; // Array<number>æ³›å‹è¯­æ³•
// ES5ï¼švar list = [1,2,3];
```

å¦‚æœæ•°ç»„æƒ³æ¯ä¸€é¡¹æ”¾å…¥ä¸åŒæ•°æ®æ€ä¹ˆåŠï¼Ÿç”¨å…ƒç»„ç±»å‹

### **å…ƒç»„ç±»å‹**

å…ƒç»„ç±»å‹å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚

```ts
let tuple: [number, string] = [1, '2']
```

## **æšä¸¾**

### **æ•°å­—æšä¸¾**

```ts
enum Color{
    BLUE,
    RED,
    PINK
}
```

è¿™æ ·å°±å®šä¹‰äº†ä¸€ä¸ª**æ•°å­—æšä¸¾**ï¼Œä»–æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š

- æ•°å­—é€’å¢
- åå‘æ˜ å°„

æšä¸¾æˆå‘˜ä¼šè¢«èµ‹å€¼ä¸ºä» `0` å¼€å§‹é€’å¢çš„æ•°å­—

```ts
let color1:Color = Color.BLUE // '0'
let color2:Color = Color.RED // '1'
let color3:Color = Color.PINK // '2'
```

æšä¸¾ä¼šå¯¹æšä¸¾å€¼åˆ°æšä¸¾åè¿›è¡Œåå‘æ˜ å°„

```ts
let color1:Color = Color[0] // BLUE
let color2:Color = Color[1] // RED
let color3:Color = Color[2] // PINK
```

å¦‚æœæšä¸¾ç¬¬ä¸€ä¸ªå…ƒç´ èµ‹æœ‰åˆå§‹å€¼ï¼Œå°±ä¼šä»åˆå§‹å€¼å¼€å§‹é€’å¢ï¼Œ

```ts
enum Color{
    BLUE = 2,
    RED,
    PINK
}


let color1:Color = Color.BLUE // '2'
let color2:Color = Color.RED // '3'
let color3:Color = Color.PINK // '4'
```

### **åå‘æ˜ å°„çš„åŸç†**

ç»è¿‡ç¼–è¯‘åçš„ä»£ç 

```js
"use strict";
var Color;
(function (Color) {
    Color[Color["BLUE"] = 0] = "BLUE";
    Color[Color["RED"] = 1] = "RED";
    Color[Color["PINK"] = 2] = "PINK";
})(Color || (Color = {}));
let color = Color.BLUE; // '0'
let color2 = Color.RED; // '1'
let colo3r = Color.PINK; // '2'
```

ä¸»ä½“ä»£ç æ˜¯è¢«åŒ…è£¹åœ¨ä¸€ä¸ªè‡ªæ‰§è¡Œå‡½æ•°é‡Œï¼Œå°è£…äº†è‡ªå·±ç‹¬ç‰¹çš„ä½œç”¨åŸŸã€‚

```js
Color["BLUE"] = 0
```

ä¼šå°† Colorè¿™ä¸ªå¯¹è±¡çš„ BLUE å±æ€§èµ‹å€¼ä¸º 0ï¼ŒJS çš„èµ‹å€¼è¿ç®—ç¬¦è¿”å›çš„å€¼æ˜¯è¢«èµ‹äºˆçš„å€¼ã€‚

```js
// æ‰§è¡Œ Color[Color["BLUE"] = 6] = "BLUE";

// ç›¸å½“äºæ‰§è¡Œ
Color["BLUE"] = 6
Color[6] = "BLUE"
```

è¿™æ ·å°±å®ç°äº†æšä¸¾çš„åå‘æ˜ å°„ã€‚

### **è®¡ç®—æˆå‘˜**

æšä¸¾ä¸­çš„æˆå‘˜å¯ä»¥è¢«è®¡ç®—ï¼Œæ¯”å¦‚ç»å…¸çš„ä½¿ç”¨ä½è¿ç®—åˆå¹¶æƒé™ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼Œ

```ts
enum FileAccess {
    Read    = 1 << 1,
    Write   = 1 << 2,
    ReadWrite  = Read | Write,
}

console.log(FileAccess.Read)       // 2   -> 010
console.log(FileAccess.Write)      // 4   -> 100
console.log(FileAccess.ReadWrite)  // 6   -> 110
```

çœ‹ä¸ªå®ä¾‹å§ï¼ŒVue3 æºç ä¸­çš„ patchFlagsï¼Œç”¨äºæ ‡è¯†èŠ‚ç‚¹æ›´æ–°çš„å±æ€§ã€‚

```ts
// packages/shared/src/patchFlags.ts
export const enum PatchFlags {
  TEXT = 1,                    // åŠ¨æ€æ–‡æœ¬èŠ‚ç‚¹
  CLASS = 1 << 1,              // åŠ¨æ€ class
  STYLE = 1 << 2,              // åŠ¨æ€ style
  PROPS = 1 << 3,              // åŠ¨æ€å±æ€§
  FULL_PROPS = 1 << 4,         // å…·æœ‰åŠ¨æ€ key å±æ€§ï¼Œå½“ key æ”¹å˜æ—¶ï¼Œéœ€è¦è¿›è¡Œå®Œæ•´çš„ diff æ¯”è¾ƒ
  HYDRATE_EVENTS = 1 << 5,     // å…·æœ‰ç›‘å¬äº‹ä»¶çš„èŠ‚ç‚¹
  STABLE_FRAGMENT = 1 << 6,    // å­èŠ‚ç‚¹é¡ºåºä¸ä¼šè¢«æ”¹å˜çš„ fragment
  KEYED_FRAGMENT = 1 << 7,     // å¸¦æœ‰ key å±æˆ–éƒ¨åˆ†å­èŠ‚ç‚¹æœ‰ key çš„ fragment
  UNKEYED_FRAGMENT = 1 << 8,   // å­èŠ‚ç‚¹æ²¡æœ‰ key çš„ fragment
  NEED_PATCH = 1 << 9,         // é props çš„æ¯”è¾ƒï¼Œæ¯”å¦‚ ref æˆ–æŒ‡ä»¤
  DYNAMIC_SLOTS = 1 << 10,     // åŠ¨æ€æ’æ§½
  DEV_ROOT_FRAGMENT = 1 << 11, // ä»…ä¾›å¼€å‘æ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºå°†æ³¨é‡Šæ”¾åœ¨æ¨¡æ¿æ ¹çº§åˆ«çš„ç‰‡æ®µ
  HOISTED = -1,                // é™æ€èŠ‚ç‚¹
  BAIL = -2                    // diff ç®—æ³•è¦é€€å‡ºä¼˜åŒ–æ¨¡å¼
}
```

### **å­—ç¬¦ä¸²æšä¸¾**

åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²æšä¸¾é‡Œï¼Œ`æ¯ä¸ªæˆå‘˜éƒ½å¿…é¡»ç”¨å­—ç¬¦ä¸²å­—é¢é‡`ï¼Œæˆ–å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²æšä¸¾æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ã€‚

å­—ç¬¦ä¸²æšä¸¾çš„æ„ä¹‰åœ¨äºï¼Œæä¾›æœ‰å…·ä½“è¯­ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£ä»£ç å’Œè°ƒè¯•ã€‚

```ts
enum Color{
    BLUE = 'blue',
    RED = 'red',
    PINK = 'pink'
}
let color:Color = Color.BLUE // 'blue'
let color2:Color = Color.RED // 'red'
let colo3r:Color = Color.PINK // 'red'
```

### **å¸¸é‡æšä¸¾**

ä½¿ç”¨ const æ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡æšä¸¾

```ts
const enum Color{
    BLUE ,
    RED,
    PINK
}
let color:Color = Color.BLUE // 0
let color2:Color = Color.RED // 1
let colo3r:Color = Color.PINK // 2
```

ç¼–è¯‘å‡ºæ¥çš„ä»£ç ä¼šç®€å•å¾ˆå¤š

```js
"use strict";
let color = 0 /* Color.BLUE */;
let color2 = 1 /* Color.RED */;
let colo3r = 2 /* Color.PINK */;

```

### **å°ç»“**

- æšä¸¾çš„æ„ä¹‰åœ¨äºï¼Œå¯ä»¥å®šä¹‰ä¸€äº›å¸¦åå­—çš„å¸¸é‡é›†åˆï¼Œæ¸…æ™°åœ°è¡¨è¾¾æ„å›¾å’Œè¯­ä¹‰ï¼Œæ›´å®¹æ˜“åœ°ç†è§£ä»£ç å’Œè°ƒè¯•ã€‚
- å¸¸ç”¨äºå’Œåç«¯è”è°ƒæ—¶ï¼ŒåŒºåˆ†åç«¯è¿”å›çš„ä¸€äº›ä»£è¡¨çŠ¶æ€è¯­ä¹‰çš„æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œé™ä½é˜…è¯»ä»£ç æ—¶çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚













## **å‡½æ•°ç±»å‹**

TS å®šä¹‰å‡½æ•°ç±»å‹éœ€è¦å®šä¹‰è¾“å…¥å‚æ•°ç±»å‹å’Œè¾“å‡ºç±»å‹ã€‚

è¾“å‡ºç±»å‹ä¹Ÿå¯ä»¥å¿½ç•¥ï¼Œå› ä¸º TS èƒ½å¤Ÿæ ¹æ®è¿”å›è¯­å¥è‡ªåŠ¨æ¨æ–­å‡ºè¿”å›å€¼ç±»å‹ã€‚

```ts
function add(x:number, y:number):number {
    return x + y
}
add(1,2)
```

å‡½æ•°æ²¡æœ‰æ˜ç¡®è¿”å›å€¼ï¼Œé»˜è®¤è¿”å› void ç±»å‹

```ts
function test(): void {
    console.log('test');
}
```

### **å‡½æ•°è¡¨è¾¾å¼å†™æ³•**

```ts
let add2 = (x: number, y: number): number => {
    return x + y
}
```

### **å¯é€‰å‚æ•°**

å‚æ•°ååŠ ä¸ªé—®å·ï¼Œä»£è¡¨è¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„

```ts
function add(x:number, y:number, z?:number):number {
    return x + y
}

add(1,2,3)
add(1,2)
```

æ³¨æ„: `å¯é€‰å‚æ•°è¦æ”¾åœ¨å‡½æ•°å…¥å‚çš„æœ€åé¢`ï¼Œä¸ç„¶ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚

<img src="./assets/image-20221016150803468.png" alt="image-20221016150803468" style="zoom:50%;" />

### **é»˜è®¤å‚æ•°**

```ts
function add(x:number, y:number = 100):number {
    return x + y
}

add(100)  // 200
```

è·Ÿ JS çš„å†™æ³•ä¸€æ ·ï¼Œåœ¨å…¥å‚é‡Œå®šä¹‰åˆå§‹å€¼ã€‚

å’Œå¯é€‰å‚æ•°ä¸åŒçš„æ˜¯ï¼Œé»˜è®¤å‚æ•°å¯ä»¥ä¸æ”¾åœ¨å‡½æ•°å…¥å‚çš„æœ€åé¢ï¼Œ

```ts
function add(x:number = 100, y:number):number {
    return x + y
}

add(100) 
```

å¦‚æœå¸¦é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œç”¨æˆ·å¿…é¡»æ˜ç¡®çš„ä¼ å…¥ `undefined`å€¼æ¥è·å¾—é»˜è®¤å€¼(`è·Ÿ JS çš„å†™æ³•ä¸€æ ·`)ã€‚

```ts
add(undefined,100) // 200
```

### **å‡½æ•°é‡è½½**

å‡½æ•°é‡è½½æ˜¯æŒ‡ä¸¤ä¸ªå‡½æ•°åç§°ç›¸åŒï¼Œä½†æ˜¯å‚æ•°ä¸ªæ•°æˆ–å‚æ•°ç±»å‹ä¸åŒï¼Œä»–çš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œä¸éœ€è¦æŠŠç›¸ä¼¼åŠŸèƒ½çš„å‡½æ•°æ‹†åˆ†æˆå¤šä¸ªå‡½æ•°åç§°ä¸åŒçš„å‡½æ•°ã€‚

**ä¸åŒå‚æ•°ç±»å‹**

æ¯”å¦‚æˆ‘ä»¬å®ç°ä¸€ä¸ª add å‡½æ•°ï¼Œå¦‚æœä¼ å…¥å‚æ•°éƒ½æ˜¯æ•°å­—ï¼Œå°±è¿”å›æ•°å­—ç›¸åŠ ï¼Œå¦‚æœä¼ å…¥å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå°±è¿”å›å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ

```ts
function add(x: number[]): number
function add(x: string[]): string
function add(x: any[]): any {
  if (typeof x[0] === 'string') {
    return x.join()
  }
  if (typeof x[0] === 'number') {
      return x.reduce((acc, cur) => acc + cur)
  }
}
```

åœ¨ TS ä¸­ï¼Œå®ç°å‡½æ•°é‡è½½ï¼Œéœ€è¦å¤šæ¬¡å£°æ˜è¿™ä¸ªå‡½æ•°ï¼Œå‰å‡ æ¬¡æ˜¯å‡½æ•°å®šä¹‰ï¼Œåˆ—å‡ºæ‰€æœ‰çš„æƒ…å†µï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ï¼Œéœ€è¦æ¯”è¾ƒå®½æ³›çš„ç±»å‹ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­å°±ç”¨åˆ°äº† anyã€‚

**ä¸åŒå‚æ•°ä¸ªæ•°**

å‡è®¾è¿™ä¸ª add å‡½æ•°æ¥å—æ›´å¤šçš„å‚æ•°ä¸ªæ•°ï¼Œæ¯”å¦‚è¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•° yï¼Œå¦‚æœä¼ äº†yï¼Œå°±æŠŠ y ä¹ŸåŠ ä¸Šæˆ–æ‹¼æ¥ä¸Šï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼Œ

```ts
function add(x: number[]): number
function add(x: string[]): string
function add(x: number[], y: number[]): number
function add(x: string[], y: string[]): string
function add(x: any[], y?: any[]): any {
  if (Array.isArray(y) && typeof y[0] === 'number') {
      return x.reduce((acc, cur) => acc + cur) + y.reduce((acc, cur) => acc + cur)
  }
  if (Array.isArray(y) && typeof y[0] === 'string') {
      return x.join() + ',' + y.join()
  }
  if (typeof x[0] === 'string') {
    return x.join()
  }
  if (typeof x[0] === 'number') {
      return x.reduce((acc, cur) => acc + cur)
  }
}


console.log(add([1,2,3]))      // 6
console.log(add(['vvv', '18']))  // 'vvv,18'
console.log(add([1,2,3], [1,2,3])) // 12
console.log(add(['vvv', '18'], ['man', 'handsome'])) // 'vvv,18,man,handsome'
```

å…¶å®å†™èµ·æ¥æŒºéº»çƒ¦çš„ï¼Œåé¢äº†è§£æ³›å‹ä¹‹åå†™èµ·æ¥ä¼šç®€æ´ä¸€äº›ï¼Œä¸å¿…å¤ªçº ç»“å‡½æ•°é‡è½½ï¼ŒçŸ¥é“æœ‰è¿™ä¸ªæ¦‚å¿µå³å¯ï¼Œå¹³æ—¶ä¸€èˆ¬ç”¨æ³›å‹æ¥è§£å†³ç±»ä¼¼é—®é¢˜ã€‚

## **interfaceæ¥å£**

### **åŸºæœ¬æ¦‚å¿µ**

`interface`(æ¥å£) æ˜¯ TS è®¾è®¡å‡ºæ¥ç”¨äºå®šä¹‰å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥å¯¹å¯¹è±¡çš„å½¢çŠ¶è¿›è¡Œæè¿°ã€‚

å®šä¹‰ interface ä¸€èˆ¬é¦–å­—æ¯å¤§å†™ï¼Œä»£ç å¦‚ä¸‹ï¼š

```ts
interface Person {
    name: string
    age: number
}

const p1: Person = {
    name: 'vvv',
    age: 18
}
```

å±æ€§å¿…é¡»å’Œç±»å‹å®šä¹‰çš„æ—¶å€™å®Œå…¨ä¸€è‡´ã€‚

å°‘å†™äº†å±æ€§ï¼ŒæŠ¥é”™ï¼š

<img src="./assets/image-20221016151650671.png" alt="image-20221016151650671" style="zoom:50%;" />

å¤šå†™äº†å±æ€§ï¼ŒæŠ¥é”™ï¼š

<img src="./assets/image-20221016151740082.png" alt="image-20221016151740082" style="zoom:50%;" />

:::warning æ³¨æ„

interface ä¸æ˜¯ JS ä¸­çš„å…³é”®å­—ï¼Œæ‰€ä»¥ TS ç¼–è¯‘æˆ JS ä¹‹åï¼Œè¿™äº› interface æ˜¯ä¸ä¼šè¢«è½¬æ¢è¿‡å»çš„ï¼Œéƒ½ä¼šè¢«åˆ é™¤æ‰ï¼Œinterface åªæ˜¯åœ¨ TS ä¸­ç”¨æ¥åšé™æ€æ£€æŸ¥ã€‚

:::

### **å¯é€‰å±æ€§**

è·Ÿå‡½æ•°çš„å¯é€‰å‚æ•°æ˜¯ç±»ä¼¼çš„ï¼Œåœ¨å±æ€§ä¸ŠåŠ ä¸ª `?`ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯å¯é€‰çš„ï¼Œæ¯”å¦‚ä¸‹é¢çš„ age å±æ€§

```ts
interface IPerson {
    name: string
    age?: number
}

let p:IPerson = {
    name: 'vvv',
}
```

### **åªè¯»å±æ€§**

å¦‚æœå¸Œæœ›æŸä¸ªå±æ€§ä¸è¢«æ”¹å˜ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š

```ts
interface Person {
    readonly id: number
    name: string
    age: number
}
```

æ”¹å˜è¿™ä¸ªåªè¯»å±æ€§æ—¶ä¼šæŠ¥é”™ã€‚

<img src="./assets/image-20221016152126581.png" alt="image-20221016152126581" style="zoom:50%;" />

### **interface æè¿°å‡½æ•°ç±»å‹**

interface ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°å‡½æ•°ç±»å‹ï¼Œä»£ç å¦‚ä¸‹ï¼š

```ts
interface ISum {
    (x: number, y: number): number
}
let add: ISum = (x, y) => x + y
```

### **è‡ªå®šä¹‰å±æ€§ï¼ˆå¯ç´¢å¼•çš„ç±»å‹ï¼‰**

ä¸Šæ–‡ä¸­ï¼Œå±æ€§å¿…é¡»å’Œç±»å‹å®šä¹‰çš„æ—¶å€™å®Œå…¨ä¸€è‡´ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸Šæœ‰å¤šä¸ªä¸ç¡®å®šçš„å±æ€§ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯ä»¥è¿™ä¹ˆå†™ã€‚

```ts
interface RandomKey{
    [propName: string]: any
}
const obj: RandomKey = {
    a: 'hello',
    b: false,
    c: 123
}
```

## **ç±»å‹æ¨è®º**

TypeScripté‡Œï¼Œåœ¨æœ‰äº›æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºç±»å‹çš„åœ°æ–¹ï¼Œç±»å‹æ¨è®ºä¼š**å¸®åŠ©æä¾›ç±»å‹**ã€‚

è¿™ç§æ¨æ–­å‘ç”Ÿåœ¨åˆå§‹åŒ–å˜é‡å’Œæˆå‘˜ï¼Œè®¾ç½®é»˜è®¤å‚æ•°å€¼å’Œå†³å®šå‡½æ•°è¿”å›å€¼æ—¶ã€‚

### **å®šä¹‰æ—¶ä¸èµ‹å€¼**

```ts
let a
a = 18
a = 'vvv'
```

å®šä¹‰æ—¶ä¸èµ‹å€¼ï¼Œå°±ä¼šè¢« TS è‡ªåŠ¨æ¨å¯¼æˆ any ç±»å‹ï¼Œä¹‹åéšä¾¿æ€ä¹ˆèµ‹å€¼éƒ½ä¸ä¼šæŠ¥é”™ã€‚

<img src="./assets/image-20221017053805629.png" alt="image-20221017053805629" style="zoom:100%;" />

### **åˆå§‹åŒ–å˜é‡**

ä¾‹å¦‚: 

```ts
let a = 18
```

<img src="./assets/image-20221017053931558.png" alt="image-20221017053931558" style="zoom:100%;" />

### **è®¾ç½®é»˜è®¤å‚æ•°å€¼**

å‡½æ•°è®¾ç½®é»˜è®¤å‚æ•°æ—¶ï¼Œä¹Ÿä¼šæœ‰è‡ªåŠ¨æ¨å¯¼

æ¯”å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªæ‰“å°å¹´é¾„çš„å‡½æ•°ï¼Œé»˜è®¤å€¼æ˜¯ 18

```ts
function printAge(num = 18) {
    console.log(num)
    return num
}
```

é‚£ä¹ˆ TS ä¼šè‡ªåŠ¨æ¨å¯¼å‡º printAge çš„å…¥å‚ç±»å‹ï¼Œä¼ é”™äº†ç±»å‹ä¼šæŠ¥é”™ã€‚

![image-20221017054046459](./assets/image-20221017054046459.png)

### **å†³å®šå‡½æ•°è¿”å›å€¼**

å†³å®šå‡½æ•°è¿”å›å€¼æ—¶ï¼Œ TS ä¹Ÿä¼šè‡ªåŠ¨æ¨å¯¼å‡ºè¿”å›å€¼ç±»å‹ã€‚

æ¯”å¦‚ä¸€ä¸ªå‡½æ•°è¿”å›false

```ts
function returnFalse() {
    return false
}
```

![image-20221017054214290](./assets/image-20221017054214290.png)

### **å°ç»“**

ç±»å‹æ¨è®ºå››ç§

- å®šä¹‰æ—¶ä¸èµ‹å€¼
- åˆå§‹åŒ–å˜é‡
- è®¾ç½®é»˜è®¤å‚æ•°å€¼
- å†³å®šå‡½æ•°è¿”å›å€¼

ç±»å‹æ¨è®ºè™½ç„¶èƒ½ä¸ºæˆ‘ä»¬æä¾›å¸®åŠ©ï¼Œä½†æ—¢ç„¶å†™äº† TSï¼Œé™¤éæ˜¯å‡½æ•°é»˜è®¤è¿”å›ç±»å‹ä¸º void è¿™ç§å¤§å®¶éƒ½çŸ¥é“çš„ï¼Œå…¶ä»–çš„æœ€å¥½æ¯ä¸ªåœ°æ–¹éƒ½å®šä¹‰å¥½ç±»å‹ã€‚

## **è”åˆç±»å‹**

å¦‚æœå¸Œæœ›ä¸€ä¸ªå˜é‡å¯ä»¥æ”¯æŒå¤šç§ç±»å‹ï¼Œå°±å¯ä»¥ç”¨è”åˆç±»å‹ï¼ˆunion typesï¼‰æ¥å®šä¹‰ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ªå˜é‡æ—¢æ”¯æŒ number ç±»å‹ï¼Œåˆæ”¯æŒ string ç±»å‹ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼š

```ts
let a: number | string
a = 18
a = 'vvv'
```

![image-20221017054659307](./assets/image-20221017054659307.png)

è”åˆç±»å‹å¤§å¤§æé«˜äº†ç±»å‹çš„å¯æ‰©å±•æ€§ï¼Œä½†å½“ TS ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œåªèƒ½è®¿é—®ä»–ä»¬å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚

æ¯”å¦‚è¿™é‡Œå°±åªèƒ½è®¿é—® number ç±»å‹å’Œ string ç±»å‹å…±æœ‰çš„æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾ï¼Œ

![image-20221017054841188](./assets/image-20221017054841188.png)

å¦‚æœç›´æ¥è®¿é—® `length` å±æ€§ï¼Œstring ç±»å‹ä¸Šæœ‰ï¼Œnumber ç±»å‹ä¸Šæ²¡æœ‰ï¼Œå°±æŠ¥é”™äº†ï¼Œ

![image-20221017054910188](./assets/image-20221017054910188.png)

### **äº¤å‰ç±»å‹**

å¦‚æœè¦å¯¹å¯¹è±¡å½¢çŠ¶è¿›è¡Œæ‰©å±•ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰ç±»å‹ `&`ã€‚

æ¯”å¦‚ Person æœ‰ name å’Œ age çš„å±æ€§ï¼Œè€Œ Student åœ¨ name å’Œ age çš„åŸºç¡€ä¸Šè¿˜æœ‰ grade å±æ€§ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ã€‚

```ts
interface Person {
    name: string
    age: number
}

type Student = Person & { grade: number }
```

è¿™å’Œç±»çš„ç»§æ‰¿æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè¿™æ · Student å°±ç»§æ‰¿äº† Person ä¸Šçš„å±æ€§ã€‚

![image-20221017055152608](./assets/image-20221017055152608.png)

è”åˆç±»å‹ `|` æ˜¯æŒ‡å¯ä»¥å–å‡ ç§ç±»å‹ä¸­çš„ä»»æ„ä¸€ç§ï¼Œè€Œäº¤å‰ç±»å‹ `&` æ˜¯æŒ‡æŠŠå‡ ç§ç±»å‹åˆå¹¶èµ·æ¥ã€‚

äº¤å‰ç±»å‹å’Œ interface çš„ extends éå¸¸ç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸ºäº†å®ç°å¯¹è±¡å½¢çŠ¶çš„ç»„åˆå’Œæ‰©å±•ã€‚

### **ç±»å‹åˆ«åï¼ˆtypeï¼‰**

ç±»å‹åˆ«åï¼ˆtype aliaseï¼‰ï¼Œå¬åå­—å°±å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ç»™ç±»å‹èµ·ä¸ªåˆ«åã€‚

ç±»å‹åˆ«åç”¨ `type` å…³é”®å­—æ¥ä¹¦å†™ï¼Œæœ‰äº†ç±»å‹åˆ«åï¼Œæˆ‘ä»¬ä¹¦å†™ TS çš„æ—¶å€™å¯ä»¥æ›´åŠ æ–¹ä¾¿ç®€æ´ã€‚

æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œ`getName` è¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°å¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¯èƒ½æ˜¯å‡½æ•°ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ã€‚

```ts
type Name = string
type Fn = () => string
type NameOrFn = Name | Fn

function getName (n:NameOrFn):string {
    if(typeof n === 'string') {
        return n
    }else {
        return n()
    }
}
```

è¿™æ ·è°ƒç”¨æ—¶ä¼ å­—ç¬¦ä¸²å’Œå‡½æ•°éƒ½å¯ä»¥ã€‚

```ts
getName('vvv')
getName(() => 'vvv')
```

:::tip TS æ–‡æ¡£

ç±»å‹åˆ«åä¼šç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚ ç±»å‹åˆ«åæœ‰æ—¶å’Œæ¥å£å¾ˆåƒï¼Œä½†æ˜¯å¯ä»¥ä½œç”¨äºåŸå§‹å€¼ï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ä»¥åŠå…¶å®ƒä»»ä½•ä½ éœ€è¦æ‰‹å†™çš„ç±»å‹ã€‚

:::

ç±»å‹åˆ«åçš„ç”¨æ³•å¦‚ä¸‹ï¼Œ

```ts
type Name = string                              // åŸºæœ¬ç±»å‹

type arrItem = number | string                  // è”åˆç±»å‹

const arr: arrItem[] = [1,'2', 3]

type Person = { 
  name: Name 
}

type Student = Person & { grade: number  }       // äº¤å‰ç±»å‹

type Teacher = Person & { major: string  } 

type StudentAndTeacherList = [Student, Teacher]  // å…ƒç»„ç±»å‹

const list:StudentAndTeacherList = [
  { name: 'vvv', grade: 100 }, 
  { name: 'vvv', major: 'Chinese' }
]
```

#### **type å’Œ interface çš„åŒºåˆ«**

æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå¯ä»¥ç”¨ typeï¼Œä¹Ÿå¯ä»¥ç”¨ interfaceã€‚

```ts
interface IPerson {
    name: string
    age: number
}
let p: IPerson = {
    name: 'vvv',
    age: 18
}

type Person = {
    name: string
    age: number
}
let p2: Person = {
    name: 'vvv',
    age: 18
}
```

**ä¸¤è€…ç›¸åŒç‚¹ï¼š**

- éƒ½å¯ä»¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°
- éƒ½å…è®¸ç»§æ‰¿

**éƒ½å¯ä»¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°**

å®šä¹‰å¯¹è±¡ä¸Šæ–‡å·²ç»è¯´äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•å®šä¹‰å‡½æ•°ã€‚

```ts
type addType = (num1:number,num2:number) => number

interface addType {
    (num1:number,num2:number):number
}
// è¿™ä¸¤ç§å†™æ³•éƒ½å¯ä»¥å®šä¹‰å‡½æ•°ç±»å‹
```

**éƒ½å…è®¸ç»§æ‰¿**

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª Person ç±»å‹å’Œ Student ç±»å‹ï¼Œ**Student ç»§æ‰¿è‡ª Person**ï¼Œå¯ä»¥æœ‰ä¸‹é¢å››ç§æ–¹å¼

`interface ç»§æ‰¿ interface`

```ts
// interface ç»§æ‰¿ interface
interface Person { 
  name: string 
}
interface Student extends Person { 
  grade: number 
}
```

```ts
const person:Student = {
  name: 'lin',
  grade: 100
}
```

`type ç»§æ‰¿ type`

```ts
// type ç»§æ‰¿ type
type Person = { 
  name: string 
}
type Student = Person & { grade: number  }   // ç”¨äº¤å‰ç±»å‹
```

`interface ç»§æ‰¿ type`

```ts
// interface ç»§æ‰¿ type
type Person = { 
  name: string 
}

interface Student extends Person { 
  grade: number 
}
```

`type ç»§æ‰¿ interface`

```ts
// type ç»§æ‰¿ interface
interface Person { 
  name: string 
}

type Student = Person & { grade: number  }   // ç”¨äº¤å‰ç±»å‹
```

interface ä½¿ç”¨ extends å®ç°ç»§æ‰¿ï¼Œ type ä½¿ç”¨äº¤å‰ç±»å‹å®ç°ç»§æ‰¿

**ä¸¤è€…ä¸åŒç‚¹ï¼š**

interfaceï¼ˆæ¥å£ï¼‰ æ˜¯ TS è®¾è®¡å‡ºæ¥ç”¨äºå®šä¹‰å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥å¯¹å¯¹è±¡çš„å½¢çŠ¶è¿›è¡Œæè¿°ã€‚

type æ˜¯**ç±»å‹åˆ«å**ï¼Œç”¨äºç»™å„ç§ç±»å‹å®šä¹‰åˆ«åï¼Œè®© TS å†™èµ·æ¥æ›´ç®€æ´ã€æ¸…æ™°ã€‚

type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ã€å…ƒç»„ï¼Œinterface ä¸è¡Œ(`æ•²é‡ç‚¹`)

interfaceå¯ä»¥åˆå¹¶é‡å¤å£°æ˜ï¼Œtype ä¸è¡Œ((`æ•²é‡ç‚¹`)

**åˆå¹¶é‡å¤å£°æ˜ï¼š**

```ts
interface Person {
    name: string
}

interface Person { // é‡å¤å£°æ˜ interfaceï¼Œå°±åˆå¹¶äº†
    age: number
}

const person: Person = {
    name: 'vvv',
    age: 18
}
```

é‡å¤å£°æ˜ type ï¼Œå°±æŠ¥é”™äº†

```ts
type Person = {
    name: string
}
type Person = {
    age: string
}
```



![image-20221017060649869](./assets/image-20221017060649869.png)

### **ç±»å‹ä¿æŠ¤(typeof)**

å¦‚æœæœ‰ä¸€ä¸ª `getLength` å‡½æ•°ï¼Œå…¥å‚æ˜¯è”åˆç±»å‹ `number | string`ï¼Œè¿”å›å…¥å‚çš„ lengthï¼Œ

```ts
function getLength(arg: number | string): number {
    return arg.length
}
```

è¿™ä¹ˆå†™ä¼šæŠ¥é”™ï¼Œå› ä¸º number ç±»å‹ä¸Šæ²¡æœ‰ length å±æ€§ã€‚

![image-20221017060822962](./assets/image-20221017060822962.png)

è¿™ä¸ªæ—¶å€™ï¼Œç±»å‹ä¿æŠ¤ï¼ˆType Guardsï¼‰å‡ºç°äº†ï¼Œå¯ä»¥ä½¿ç”¨ `typeof` å…³é”®å­—åˆ¤æ–­å˜é‡çš„ç±»å‹ã€‚

æˆ‘ä»¬æŠŠ getLength æ–¹æ³•æ”¹é€ ä¸€ä¸‹ï¼Œå°±å¯ä»¥ç²¾å‡†åœ°è·å–åˆ° string ç±»å‹çš„ length å±æ€§äº†ï¼Œ

```ts
function getLength(arg: number | string): number {
    if(typeof arg === 'string') {
        return arg.length
    } else {
        return arg.toString().length
    }
}
```

### **ç±»å‹æ–­è¨€**

ä¸Šæ–‡çš„ä¾‹å­ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€æ¥è§£å†³ã€‚

ç±»å‹æ–­è¨€è¯­æ³•ï¼š

```ts
å€¼ as ç±»å‹
```

ä½¿ç”¨ç±»å‹æ–­è¨€æ¥å‘Šè¯‰ TSï¼Œæˆ‘ï¼ˆå¼€å‘è€…ï¼‰æ¯”ä½ ï¼ˆç¼–è¯‘å™¨ï¼‰æ›´æ¸…æ¥šè¿™ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä½ å°±åˆ«ç»™æˆ‘æŠ¥é”™äº†ï¼Œ

```ts
function getLength(arg: number | string): number {
    const str = arg as string
    if (str.length) {
        return str.length
    } else {
        const number = arg as number
        return number.toString().length
    }
}
```

:::warning æ³¨æ„

ç±»å‹æ–­è¨€ä¸æ˜¯ç±»å‹è½¬æ¢ï¼ŒæŠŠä¸€ä¸ªç±»å‹æ–­è¨€æˆè”åˆç±»å‹ä¸­ä¸å­˜åœ¨çš„ç±»å‹ä¼šæŠ¥é”™ã€‚

:::

æ¯”å¦‚ï¼Œ

```ts
function getLength(arg: number | string): number {
    return (arg as number[]).length
}
```

![image-20221017061054177](./assets/image-20221017061054177.png)

## **æ³›å‹**

### **ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ï¼Ÿ**

:::tip TSæ–‡æ¡£

è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºä¸€è‡´çš„å®šä¹‰è‰¯å¥½çš„ APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ã€‚ ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚

**åœ¨åƒ C# å’Œ Java è¿™æ ·çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚**

:::

å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼Œä½“ä¼šä¸€ä¸‹æ³›å‹è§£å†³çš„é—®é¢˜å§ã€‚

å®šä¹‰ä¸€ä¸ª print å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯æŠŠä¼ å…¥çš„å‚æ•°æ‰“å°å‡ºæ¥ï¼Œå†è¿”å›è¿™ä¸ªå‚æ•°ï¼Œä¼ å…¥å‚æ•°çš„ç±»å‹æ˜¯ stringï¼Œå‡½æ•°è¿”å›ç±»å‹ä¸º stringã€‚

```ts
function print(arg:string):string {
    console.log(arg)
    return arg
}
```

ç°åœ¨éœ€æ±‚å˜äº†ï¼Œæˆ‘è¿˜éœ€è¦æ‰“å° number ç±»å‹ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯ä»¥ä½¿ç”¨è”åˆç±»å‹æ¥æ”¹é€ ï¼š

```ts
function print(arg:string | number):string | number {
    console.log(arg)
    return arg
}
```

ç°åœ¨éœ€æ±‚åˆå˜äº†ï¼Œæˆ‘è¿˜éœ€è¦æ‰“å° string æ•°ç»„ã€number æ•°ç»„ï¼Œç”šè‡³ä»»ä½•ç±»å‹ï¼Œæ€ä¹ˆåŠï¼Ÿ

æœ‰ä¸ªç¬¨æ–¹æ³•ï¼Œæ”¯æŒå¤šå°‘ç±»å‹å°±å†™å¤šå°‘è”åˆç±»å‹ã€‚

æˆ–è€…æŠŠå‚æ•°ç±»å‹æ”¹æˆ anyã€‚

```ts
function print(arg:any):any {
    console.log(arg)
    return arg
}
```

ä¸”ä¸è¯´å†™ any ç±»å‹ä¸å¥½ï¼Œæ¯•ç«Ÿåœ¨ TS ä¸­å°½é‡ä¸è¦å†™ anyã€‚

è€Œä¸”è¿™ä¹Ÿä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œåªèƒ½è¯´ä¼ å…¥çš„å€¼æ˜¯ any ç±»å‹ï¼Œè¾“å‡ºçš„å€¼æ˜¯ any ç±»å‹ï¼Œä¼ å…¥å’Œè¿”å›**å¹¶ä¸æ˜¯ç»Ÿä¸€çš„**ã€‚

è¿™ä¹ˆå†™ç”šè‡³è¿˜ä¼šå‡ºç°bug

```ts
const res:string = print(123) 
```

å®šä¹‰ string ç±»å‹æ¥æ¥æ”¶ print å‡½æ•°çš„è¿”å›å€¼ï¼Œè¿”å›çš„æ˜¯ä¸ª number ç±»å‹ï¼ŒTS å¹¶ä¸ä¼šæŠ¥é”™æç¤ºæˆ‘ä»¬ã€‚

è¿™ä¸ªæ—¶å€™ï¼Œæ³›å‹å°±å‡ºç°äº†ï¼Œå®ƒå¯ä»¥è½»æ¾è§£å†³**è¾“å…¥è¾“å‡ºè¦ä¸€è‡´**çš„é—®é¢˜ã€‚

### **æ³›å‹åŸºæœ¬ä½¿ç”¨**

**å¤„ç†å‡½æ•°å‚æ•°**

æˆ‘ä»¬ä½¿ç”¨æ³›å‹æ¥è§£å†³ä¸Šæ–‡çš„é—®é¢˜ã€‚

æ³›å‹çš„è¯­æ³•æ˜¯ `<>` é‡Œå†™ç±»å‹å‚æ•°ï¼Œä¸€èˆ¬å¯ä»¥ç”¨ `T` æ¥è¡¨ç¤º

```ts
function print<T>(arg:T):T {
    console.log(arg)
    return arg
}
```

è¿™æ ·ï¼Œæˆ‘ä»¬å°±åšåˆ°äº†è¾“å…¥å’Œè¾“å‡ºçš„ç±»å‹ç»Ÿä¸€ï¼Œä¸”å¯ä»¥è¾“å…¥è¾“å‡ºä»»ä½•ç±»å‹ã€‚

å¦‚æœç±»å‹ä¸ç»Ÿä¸€ï¼Œå°±ä¼šæŠ¥é”™ï¼š

![image-20221017061703546](./assets/image-20221017061703546.png)

æ³›å‹ä¸­çš„ T å°±åƒä¸€ä¸ªå ä½ç¬¦ã€æˆ–è€…è¯´ä¸€ä¸ªå˜é‡ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æŠŠå®šä¹‰çš„ç±»å‹**åƒå‚æ•°ä¸€æ ·ä¼ å…¥**ï¼Œå®ƒå¯ä»¥**åŸå°ä¸åŠ¨åœ°è¾“å‡º**ã€‚

:::tip æ³¨æ„

æ³›å‹çš„å†™æ³•å¯¹å‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´æ˜¯æœ‰äº›å¤æ€ªï¼Œæ¯”å¦‚ `<>` `T` ï¼Œä½†è®°ä½å°±å¥½ï¼Œåªè¦ä¸€çœ‹åˆ° `<>`ï¼Œå°±çŸ¥é“è¿™æ˜¯æ³›å‹ã€‚

:::

æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼æŒ‡å®šç±»å‹ã€‚

- å®šä¹‰è¦ä½¿ç”¨çš„ç±»å‹
- TS ç±»å‹æ¨æ–­ï¼Œè‡ªåŠ¨æ¨å¯¼å‡ºç±»å‹

```ts
print<string>('123')  // å®šä¹‰ T ä¸º string

print('123')  // TS ç±»å‹æ¨æ–­ï¼Œè‡ªåŠ¨æ¨å¯¼ç±»å‹ä¸º string
```

![image-20221017061836353](./assets/image-20221017061836353.png)

æˆ‘ä»¬çŸ¥é“ï¼Œtype å’Œ interface éƒ½å¯ä»¥å®šä¹‰å‡½æ•°ç±»å‹ï¼Œä¹Ÿç”¨æ³›å‹æ¥å†™ä¸€ä¸‹ï¼Œtype è¿™ä¹ˆå†™ï¼š

```ts
type Print = <T>(arg: T) => T
const printFn:Print = function print(arg) {
    console.log(arg)
    return arg
}
```

interface è¿™ä¹ˆå†™ï¼š

```ts
interface Iprint<T> {
    (arg: T): T
}

function print<T>(arg:T) {
    console.log(arg)
    return arg
}


const myPrint: Iprint<number> = print
```

**é»˜è®¤å‚æ•°**

å¦‚æœè¦ç»™æ³›å‹åŠ é»˜è®¤å‚æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š

```ts
interface Iprint<T = number> {
    (arg: T): T
}

function print<T>(arg:T) {
    console.log(arg)
    return arg
}

const myPrint: Iprint = print
```

è¿™æ ·é»˜è®¤å°±æ˜¯ number ç±»å‹äº†ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰ `T` å°±å¦‚åŒå‡½æ•°å‚æ•°ä¸€æ ·å‘¢ï¼Ÿ

**å¤„ç†å¤šä¸ªå‡½æ•°å‚æ•°**

ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªåªæœ‰ä¸¤é¡¹çš„å…ƒç»„ï¼Œäº¤æ¢å…ƒç»„çš„ç¬¬ 0 é¡¹å’Œç¬¬ 1 é¡¹ï¼Œè¿”å›è¿™ä¸ªå…ƒç»„ã€‚

```ts
function swap(tuple) {
    return [tuple[1], tuple[0]]
}
```

è¿™ä¹ˆå†™ï¼Œæˆ‘ä»¬å°±ä¸§å¤±äº†ç±»å‹ï¼Œç”¨æ³›å‹æ¥æ”¹é€ ä¸€ä¸‹ã€‚

æˆ‘ä»¬ç”¨ T ä»£è¡¨ç¬¬ 0 é¡¹çš„ç±»å‹ï¼Œç”¨ U ä»£è¡¨ç¬¬ 1 é¡¹çš„ç±»å‹ã€‚

```ts
function swap<T, U>(tuple: [T, U]): [U, T]{
    return [tuple[1], tuple[0]]
}
```

è¿™æ ·å°±å¯ä»¥å®ç°äº†å…ƒç»„ç¬¬ 0 é¡¹å’Œç¬¬ 1 é¡¹ç±»å‹çš„æ§åˆ¶ã€‚

![image-20221017062733351](./assets/image-20221017062733351.png)

ä¼ å…¥çš„å‚æ•°é‡Œï¼Œç¬¬ 0 é¡¹ä¸º string ç±»å‹ï¼Œç¬¬ 1 é¡¹ä¸º number ç±»å‹ã€‚

åœ¨äº¤æ¢å‡½æ•°çš„è¿”å›å€¼é‡Œï¼Œç¬¬ 0 é¡¹ä¸º number ç±»å‹ï¼Œç¬¬ 1 é¡¹ä¸º string ç±»å‹ã€‚

### **çº¦æŸæ³›å‹**

å‡è®¾ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œæ‰“å°ä¼ å…¥å‚æ•°çš„é•¿åº¦ï¼Œæˆ‘ä»¬è¿™ä¹ˆå†™ï¼š

```ts
function printLength<T>(arg: T): T {
    console.log(arg.length)
    return arg
}
```

å› ä¸ºä¸ç¡®å®š T æ˜¯å¦æœ‰ length å±æ€§ï¼Œä¼šæŠ¥é”™ï¼š

![image-20221017062926415](./assets/image-20221017062926415.png)

é‚£ä¹ˆç°åœ¨æˆ‘æƒ³çº¦æŸè¿™ä¸ªæ³›å‹ï¼Œä¸€å®šè¦æœ‰ length å±æ€§ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯ä»¥å’Œ interface ç»“åˆï¼Œæ¥çº¦æŸç±»å‹ã€‚

```ts
interface ILength {
    length: number
}

function printLength<T extends ILength>(arg: T): T {
    console.log(arg.length)
    return arg
}
```

è¿™å…¶ä¸­çš„å…³é”®å°±æ˜¯ `<T extends ILength>`ï¼Œè®©è¿™ä¸ªæ³›å‹ç»§æ‰¿æ¥å£ `ILength`ï¼Œè¿™æ ·å°±èƒ½çº¦æŸæ³›å‹ã€‚

æˆ‘ä»¬å®šä¹‰çš„å˜é‡ä¸€å®šè¦æœ‰ length å±æ€§ï¼Œæ¯”å¦‚ä¸‹é¢çš„ strã€arr å’Œ objï¼Œæ‰å¯ä»¥é€šè¿‡ TS ç¼–è¯‘ã€‚

```ts
const str = printLength('vvv')
const arr = printLength([1,2,3])
const obj = printLength({ length: 10 })
```

åªè¦ä½ æœ‰ length å±æ€§ï¼Œéƒ½ç¬¦åˆçº¦æŸï¼Œé‚£å°±ä¸ç®¡ä½ æ˜¯ strï¼Œarr è¿˜æ˜¯objï¼Œéƒ½æ²¡é—®é¢˜ã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä¸åŒ…å« length å±æ€§çš„å˜é‡ï¼Œæ¯”å¦‚æ•°å­—ï¼Œå°±ä¼šæŠ¥é”™ï¼š

![image-20221017063115065](./assets/image-20221017063115065.png)

### **æ³›å‹çš„ä¸€äº›åº”ç”¨**

ä½¿ç”¨æ³›å‹ï¼Œå¯ä»¥åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹ã€‚

**æ³›å‹çº¦æŸæ¥å£**

ä½¿ç”¨æ³›å‹ï¼Œä¹Ÿå¯ä»¥å¯¹ interface è¿›è¡Œæ”¹é€ ï¼Œè®© interface æ›´çµæ´»ã€‚

```ts
interface IKeyValue<T, U> {
    key: T
    value: U
}

const k1:IKeyValue<number, string> = { key: 18, value: 'vvv'}
const k2:IKeyValue<string, number> = { key: 'vvv', value: 18}
```

### **å°ç»“**

æ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹ã€‚

æ³›å‹ä¸­çš„ `T` å°±åƒä¸€ä¸ªå ä½ç¬¦ã€æˆ–è€…è¯´ä¸€ä¸ªå˜é‡ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æŠŠå®šä¹‰çš„ç±»å‹**åƒå‚æ•°ä¸€æ ·ä¼ å…¥**ï¼Œå®ƒå¯ä»¥**åŸå°ä¸åŠ¨åœ°è¾“å‡º**ã€‚

æ³›å‹çš„å¥½å¤„

- å‡½æ•°å’Œç±»å¯ä»¥è½»æ¾åœ°æ”¯æŒå¤šç§ç±»å‹,å¢å¼ºç¨‹åºçš„æ‰©å±•æ€§

- å‡½ä¸å¿…å†™å†—é•¿çš„è”åˆç±»å‹, å¢å¼ºåˆ°å—çš„å¯è¯»æ€§
- çµæ´»æ§åˆ¶ç±»å‹ä¹‹é—´çš„çº¦æŸ

## **ç´¢å¼•ç±»å‹**

ä»å¯¹è±¡ä¸­æŠ½å–ä¸€äº›å±æ€§çš„å€¼,ç„¶åæ‹¼æ¥æˆæ•°ç»„ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼Œ

```ts
const userInfo = {
  name: 'vvv',
  age: '18',
}

function getValues(userInfo: any, keys: string[]) {
  return keys.map(key => userInfo[key])
}

// æŠ½å–æŒ‡å®šå±æ€§çš„å€¼
console.log(getValues(userInfo, ['name','age']))  // ['vvv', '18']
// æŠ½å–objä¸­æ²¡æœ‰çš„å±æ€§:
console.log(getValues(userInfo, ['sex','hobby']))  // [undefined, undefined]
```

è™½ç„¶ obj ä¸­å¹¶ä¸åŒ…å« `sex` å’Œ `hobby`å±æ€§,ä½† TS ç¼–è¯‘å™¨å¹¶æœªæŠ¥é”™

æ­¤æ—¶ä½¿ç”¨ TS ç´¢å¼•ç±»å‹,å¯¹è¿™ç§æƒ…å†µåšç±»å‹çº¦æŸï¼Œå®ç°åŠ¨æ€å±æ€§çš„æ£€æŸ¥ã€‚

ç†è§£ç´¢å¼•ç±»å‹ï¼Œéœ€å…ˆç†è§£ `keyofï¼ˆç´¢å¼•æŸ¥è¯¢ï¼‰`ã€`T[K]ï¼ˆç´¢å¼•è®¿é—®ï¼‰` å’Œ `extends (æ³›å‹çº¦æŸ)`ã€‚

### **keyofï¼ˆç´¢å¼•æŸ¥è¯¢ï¼‰**

`keyof` æ“ä½œç¬¦å¯ä»¥ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ã€‚

```ts
interface IPerson {
    name: string
    age: number
}
type p = keyof IPerson // // 'name' | 'age'
```

ä¸Šé¢çš„ä¾‹å­ï¼ŒTest ç±»å‹å˜æˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ã€‚

### **T[K]ï¼ˆç´¢å¼•è®¿é—®ï¼‰**

`T[K]`ï¼Œè¡¨ç¤ºæ¥å£ T çš„å±æ€§ K æ‰€ä»£è¡¨çš„ç±»å‹ï¼Œ

```ts
interface IPerson {
  name: string;
  age: number;
}

let type1:  IPerson['name'] // string
let type2:  IPerson['age']  // number
```

### **extends (æ³›å‹çº¦æŸ)**

`T extends U`ï¼Œè¡¨ç¤ºæ³›å‹å˜é‡å¯ä»¥é€šè¿‡ç»§æ‰¿æŸä¸ªç±»å‹ï¼Œè·å¾—æŸäº›å±æ€§ï¼Œä¹‹å‰è®²è¿‡ï¼Œå¤ä¹ ä¸€ä¸‹ï¼Œ

```ts
interface ILength {
    length: number
}

function printLength<T extends ILength>(arg: T): T {
    console.log(arg.length)
    return arg
}
```

è¿™æ ·å…¥å‚å°±ä¸€å®šè¦æœ‰ length å±æ€§ï¼Œæ¯”å¦‚ strã€arrã€obj éƒ½å¯ä»¥ï¼Œ num å°±ä¸è¡Œã€‚

```ts
const str = printLength('18')
const arr = printLength([1,2,3])
const obj = printLength({ length: 10 })

const num = printLength(10) // æŠ¥é”™ï¼ŒArgument of type 'number' is not assignable to parameter of type 'ILength'
```

### **æ£€æŸ¥åŠ¨æ€å±æ€§**

å¯¹ç´¢å¼•ç±»å‹çš„å‡ ä¸ªæ¦‚å¿µäº†è§£å,å¯¹ getValue å‡½æ•°è¿›è¡Œæ”¹é€ ï¼Œå®ç°å¯¹è±¡ä¸ŠåŠ¨æ€å±æ€§çš„æ£€æŸ¥ã€‚

- å®šä¹‰æ³›å‹ Tã€Kï¼Œç”¨äºçº¦æŸ userInfo å’Œ keys
- ä¸º K å¢åŠ ä¸€ä¸ªæ³›å‹çº¦æŸ,ä½¿ K ç»§æ‰¿ userInfo çš„æ‰€æœ‰å±æ€§çš„è”åˆç±»å‹, å³`K extends keyof T`

```ts
function getValues<T, K extends keyof T>(userInfo: T, keys: K[]): T[K][] {
    return keys.map(key => userInfo[key])
}
```

è¿™æ ·å½“æˆ‘ä»¬æŒ‡å®šä¸åœ¨å¯¹è±¡é‡Œçš„å±æ€§æ—¶ï¼Œå°±ä¼šæŠ¥é”™ï¼Œ

![image-20221017064333317](./assets/image-20221017064333317.png)

## **æ˜ å°„ç±»å‹**

TSå…è®¸å°†ä¸€ä¸ªç±»å‹æ˜ å°„æˆå¦å¤–ä¸€ä¸ªç±»å‹ã€‚

### **inæ“ä½œç¬¦**

ä»‹ç»æ˜ å°„ç±»å‹ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹ `in` æ“ä½œç¬¦ï¼Œç”¨æ¥å¯¹è”åˆç±»å‹å®ç°éå†ã€‚

```ts
type Person = "name" | "school" | "major"

type Obj =  {
  [p in Person]: string
}
```

![image-20221017064443009](./assets/image-20221017064443009.png)

### **Partial**

`Partial<T>`å°†`T`çš„æ‰€æœ‰å±æ€§æ˜ å°„ä¸ºå¯é€‰çš„ï¼Œä¾‹å¦‚ï¼š

```ts
interface IPerson {
    name: string
    age: number
}

type IPartial = Partial<IPerson>

let p1: IPartial = {}
```

### **Partial åŸç†**

Partial` çš„å®ç°ç”¨åˆ°äº† `in` å’Œ `keyof

```ts
/**
 * Make all properties in T optional
 */
type Partial<T> = {
    [P in keyof T]?: T[P]
}
```

- `[P in keyof T]`éå†`T`ä¸Šçš„æ‰€æœ‰å±æ€§
- `?:`è®¾ç½®å±æ€§ä¸ºå¯é€‰çš„
- `T[P]`è®¾ç½®ç±»å‹ä¸ºåŸæ¥çš„ç±»å‹

### **Readonly**

`Readonly<T>`å°†`T`çš„æ‰€æœ‰å±æ€§æ˜ å°„ä¸ºåªè¯»çš„ï¼Œä¾‹å¦‚ï¼š

```ts
interface IPerson {
  name: string
  age: number
}

type IReadOnly = Readonly<IPerson>

let p1: IReadOnly = {
  name: 'lin',
  age: 18
}
```

### **Readonly åŸç†**

å’Œ `Partial` å‡ ä¹å®Œå…¨ä¸€æ ·ï¼Œ

```ts
/**
 * Make all properties in T readonly
 */
type Readonly<T> = {
    readonly [P in keyof T]: T[P]
}
```

- `[P in keyof T]`éå†`T`ä¸Šçš„æ‰€æœ‰å±æ€§
- `readonly`è®¾ç½®å±æ€§ä¸ºåªè¯»çš„
- `T[P]`è®¾ç½®ç±»å‹ä¸ºåŸæ¥çš„ç±»å‹

### **Pick**

`Pick`ç”¨äºæŠ½å–å¯¹è±¡å­é›†ï¼ŒæŒ‘é€‰ä¸€ç»„å±æ€§å¹¶ç»„æˆä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š

```ts
interface IPerson {
  name: string
  age: number
  sex: string
}

type IPick = Pick<IPerson, 'name' | 'age'>


let p1: IPick = {
  name: 'vvv',
  age: 18
}

```

è¿™æ ·å°±æŠŠ name å’Œ age ä» IPerson ä¸­æŠ½å–å‡ºæ¥ã€‚

![image-20221017173126113](./assets/image-20221017173126113.png)

### **Pick åŸç†**

```ts
/**
 * From T, pick a set of properties whose keys are in the union K
 */
type Pick<T, K extends keyof T> = {
    [P in K]: T[P]
}
```

Pickæ˜ å°„ç±»å‹æœ‰ä¸¤ä¸ªå‚æ•°:

- ç¬¬ä¸€ä¸ªå‚æ•°Tï¼Œè¡¨ç¤ºè¦æŠ½å–çš„ç›®æ ‡å¯¹è±¡
- ç¬¬äºŒä¸ªå‚æ•°Kï¼Œå…·æœ‰ä¸€ä¸ªçº¦æŸï¼šKä¸€å®šè¦æ¥è‡ªTæ‰€æœ‰å±æ€§å­—é¢é‡çš„è”åˆç±»å‹

### **Record**

ä¸Šé¢ä¸‰ç§æ˜ å°„ç±»å‹å®˜æ–¹ç§°ä¸ºåŒæ€,æ„æ€æ˜¯åªä½œç”¨äº obj å±æ€§è€Œä¸ä¼šå¼•å…¥æ–°çš„å±æ€§ã€‚

`Record` æ˜¯ä¼šåˆ›å»ºæ–°å±æ€§çš„éåŒæ€æ˜ å°„ç±»å‹ã€‚

```ts
interface IPerson {
  name: string
  age: number
}

type IRecord = Record<string, IPerson>

let personMap: IRecord = {
   person1: {
       name: 'vvv',
       age: 18
   },
   person2: {
       name: 'vvv',
       age: 20
   } 
}
```

![image-20221017173309713](./assets/image-20221017173309713.png)

### **Record åŸç†**

```ts
/**
 * Construct a type with a set of properties K of type T
 */
type Record<K extends keyof any, T> = {
    [P in K]: T
}
```

Record æ˜ å°„ç±»å‹æœ‰ä¸¤ä¸ªå‚æ•°:

- ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¼ å…¥ç»§æ‰¿äº any çš„ä»»ä½•å€¼
- ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œä¸ºæ–°åˆ›å»ºå¯¹è±¡çš„å€¼ï¼Œè¢«ä¼ å…¥ã€‚

### **æ¡ä»¶ç±»å‹**

```ts
T extends U ? X : Y 
//è‹¥ç±»å‹ T å¯è¢«èµ‹å€¼ç»™ç±»å‹ U,é‚£ä¹ˆç»“æœç±»å‹å°±æ˜¯ X ç±»å‹,å¦åˆ™å°±æ˜¯ Y ç±»å‹
```

Exclude å’Œ Extract çš„å®ç°å°±ç”¨åˆ°äº†æ¡ä»¶ç±»å‹ã€‚

#### **Exclude**

Exclude æ„æ€æ˜¯ä¸åŒ…å«ï¼Œ`Exclude<T, U>` ä¼šè¿”å› `è”åˆç±»å‹ T` ä¸­ä¸åŒ…å« `è”åˆç±»å‹ U` çš„éƒ¨åˆ†ã€‚

```ts
type Test = Exclude<'a' | 'b' | 'c', 'a'>
```

![image-20221017173438804](./assets/image-20221017173438804.png)

### **Exclude åŸç†**

```ts
/**
 * Exclude from T those types that are assignable to U
 */
type Exclude<T, U> = T extends U ? never : T
```

- `never`è¡¨ç¤ºä¸€ä¸ªä¸å­˜åœ¨çš„ç±»å‹
- `never`ä¸å…¶ä»–ç±»å‹çš„è”åˆåï¼Œä¸ºå…¶ä»–ç±»å‹

### **Extract**

`Extract<T, U>`æå–è”åˆç±»å‹ T å’Œè”åˆç±»å‹ U çš„æ‰€æœ‰äº¤é›†ã€‚

```ts
type Test = Extract<'key1' | 'key2', 'key1'>
```

![image-20221017173623208](./assets/image-20221017173623208.png)

### **Extract åŸç†**

```ts
/**
 * Extract from T those types that are assignable to U
 */
type Extract<T, U> = T extends U ? T : never
```



<br/>
<hr />

â­ï¸â­ï¸â­ï¸å¥½å•¦ï¼ï¼ï¼æœ¬æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸå•¦ã€‚â­ï¸â­ï¸â­ï¸

âœ¿âœ¿ãƒ½(Â°â–½Â°)ãƒâœ¿

æ’’èŠ± ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸
